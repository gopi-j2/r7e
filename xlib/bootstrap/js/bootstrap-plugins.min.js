$.fn.autocomplete=function(t){"use strict";function a(t,e){var i;"function"==typeof Event?i=new CustomEvent(e,{view:window,bubbles:!0,cancelable:!0}):(i=document.createEvent("Event")).initEvent(e,!0,!0),t.each(function(){this.dispatchEvent(i)})}var n=$.extend({},{method:"get",dataLimit:10,hint:!0,highlight:!0,minChars:3,displayTextSplit:"\n",shortCode:!1,selectMetaText:!1},t);return this.each(function(){var s=$(this),l="";s.addClass("search-input").closest("div").addClass("dropdown autocomplete");var h=s.closest(".autocomplete"),t=!!h.find(".dropdown-menu").length,e=0<s.siblings(".search-close").length,i=0<h.siblings(".form-text").length;t||h.append('<a class="dropdown-toggle" href="javascript:;" data-toggle="dropdown"></a><div class="dropdown-menu"></div>'),e||$('<a href="javascript:;" class="search-close" data-tr="[title]clearSearch" title="Clear Search"><i class="icon clear"></i></a>').insertAfter(s),n.selectMetaText&&!i&&$('<small class="form-text text-muted"></small>').insertAfter(h),window.i18next&&i18next.isInitialized&&h.localize(),h.on("input","input",function(t){var e=$(this);l=e.val(),e[0===l.length?"removeClass":"addClass"]("has-val"),$.fn.autocomplete.getResults(h,l,n)}),h.on("click",".search-close",function(){var t=$(this).siblings(".search-input");t.val("").focus(),a(t,"input"),n.onClear&&n.onClear()}),h.on("click",".dropdown-item",function(){var t=$(this),e=t.data("text"),i=t.find("small").text();s.val(e),n.selectMetaText&&t.closest(".autocomplete").next(".form-text").html(i),n.onSelect?n.onSelect(e):n.actionButton&&a($(n.actionButton),"click"),t.closest(".dropdown-menu").removeClass("show")}),h.on("keyup",function(t){var e=h.find(".dropdown-menu"),i=e.find(".dropdown-item.active"),s=0<i.length,a=38==t.keyCode,n=40==t.keyCode;if(a||n){var o=a?":last-child":":first-child",r=a?"prev":"next";s?i.removeClass("active")[r]().addClass("active"):e.find(".dropdown-item"+o).addClass("active")}(s=0<(i=e.find(".dropdown-item.active")).length)?h.find("input").val(i.data("text")):h.find("input").val(l)})})},$.fn.autocomplete.getResults=function(e,i,s){s.minChars<=i.length?(s.data?$.fn.autocomplete.setResults(e,s.data,i,s):s.dataUrl?$.ajax({url:s.dataUrl,data:{text:i,limit:s.dataLimit},type:s.method,dataType:"json",success:function(t){t&&$.fn.autocomplete.setResults(e,t,i,s)}}):console.warn("Missing data / dataUrl property."),$(s.actionButton).prop("disabled",!1)):(e.find(".dropdown-menu").html("").removeClass("show"),$(s.actionButton).prop("disabled",!0))},$.fn.autocomplete.setResults=function(t,e,d,c){var i=t.find(".dropdown-menu"),p="";e.forEach(function(t,e){if(e<c.dataLimit){var i=t,s="",a="",n="",o="";"object"==typeof t&&(i=t.text,t.icon&&(s='style="background-image:url('+t.icon+')"')),(i=i.split(c.displayTextSplit))[1]&&(n="<small>"+i[1]+"</small>"),i[2]&&(o="<small>"+i[2]+"</small>");var r=a=i=i[0];if(c.shortCode)r=i.split("-")[0].trim();var l=a.toLowerCase().beginsWithString(d.toLowerCase())?"begins":"";if(c.highlight){var h=new RegExp(d,"gi");a=i.replace(h,function(t){return"<span>"+t+"</span>"})}p+='<a href="javascript:;" class="dropdown-item '+l+'" data-text="'+r+'" tabIndex="-1"><i class="icon search" '+s+"></i>"+a+n+o+"</a>"}}),i.html(p).addClass("show"),i.prepend(i.find(".begins")),i.find(".begins").filter(":last").next(".dropdown-item").addClass("divider")},$(document).click(function(t){$(".autocomplete .dropdown-menu").removeClass("show")}),String.prototype.trimLeftStr=function(t){return(""+this).replace(new RegExp("^["+(t||"\\s")+"]+","g"),"")},String.prototype.trimRightStr=function(t){return(""+this).replace(new RegExp("["+(t||"\\s")+"]+$","g"),"")},String.prototype.trimStr=function(t){return(""+this).trimLeftStr(t).trimRightStr(t)},String.prototype.normalizeStr=function(){return(""+this).trimStr().replace(/\s+/g," ")},String.prototype.beginsWithString=function(t,e){e=e?"i":"";var i=new RegExp("^"+t,e);return!!(""+this).normalizeStr().match(i)},function(t){"use strict";if("function"==typeof define&&define.amd)define(["jquery","moment"],t);else if("object"==typeof exports)module.exports=t(require("jquery"),require("moment"));else{if("undefined"==typeof jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if("undefined"==typeof moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";t(jQuery,moment)}}(function(y,s){function n(t,e){this.id=i++,this.init(t,e)}window.orientation;n.prototype={constructor:n,init:function(t,e){var i;if(!e.pickTime&&!e.pickDate)throw new Error("Must choose at least one picker");this.options=e,this.element=t,this.$element=y(t),this.language=e.language in _?e.language:"en",this.pickDate=e.pickDate,this.pickTime=e.pickTime,this.isInput=this.$element.is("input"),this.component=!1,(this.$element.find(".input-group-append")||this.$element.find(".input-group-prepend"))&&(this.component=this.$element.find(".input-group-text")),this.format=e.format,this.format||(this.isInput?this.format=this.$element.data("format"):this.format=this.$element.find("input").data("format"),this.format||(this.pickDate&&this.pickTime?this.options.pick12HourFormat?this.format=this.options.pickSeconds?"MM/DD/YYYY hh:mm:ss A":"MM/DD/YYYY hh:mm A":this.format=this.options.pickSeconds?"MM/DD/YYYY HH:mm:ss":"MM/DD/YYYY HH:mm":this.pickTime?this.options.pick12HourFormat?this.format=this.options.pickSeconds?"hh:mm:ss A":"hh:mm A":this.format=this.options.pickSeconds?"HH:mm:ss":"HH:mm":this.pickDate&&(this.format="MM/DD/YYYY"))),this._compileFormat(),this.component&&(i=this.component.find(".icon")),this.pickTime&&(i&&i.length&&(this.timeIcon=i.data("time-icon")),this.timeIcon||(this.timeIcon="icon time"),i.addClass(this.timeIcon)),this.pickDate&&(i&&i.length&&(this.dateIcon=i.data("date-icon")),this.dateIcon||(this.dateIcon="icon calendar"),i.removeClass(this.timeIcon),i.addClass(this.dateIcon));var s=this.$element.find(".input-group-text").find(".icon");s&&0<s.length&&(s.attr("title",l.calendar),this.pickTime&&this.pickDate?s.addClass("calendar-time"):this.pickTime?(s.addClass("time"),s.attr("title",l.timer)):this.pickDate&&s.addClass("calendar")),this.createWidget(),window.i18next&&i18next.isInitialized&&this.$element.localize(),this.$element.find("[data-tr]").tooltip()},createWidget:function(){var t,e,i,s,a,n,o=this.options,r=this.element;if(this.widget=y((t=this.timeIcon,e=o.pickDate,i=o.pickTime,s=o.pick12HourFormat,a=o.pickSeconds,n=o.collapse,e&&i?'<div class="datetimepicker dropdown-menu"><ul class="list-unstyled"><li'+(n?' class="collapse show"':"")+'><div class="datepicker">'+b.template+'</div></li><li class="picker-switch accordion-toggle"><a href="javascript:;"><i class="'+t+'"></i></a></li><li'+(n?' class="collapse"':"")+'><div class="timepicker">'+p.getTemplate(s,a)+"</div></li></ul></div>":i?'<div class="datetimepicker dropdown-menu"><div class="timepicker">'+p.getTemplate(s,a)+"</div></div>":'<div class="datetimepicker dropdown-menu"><div class="datepicker">'+b.template+"</div></div>")).appendTo(r),this.widget.find(".prev-year").attr("title",l.prevYear),this.widget.find(".next-year").attr("title",l.nextYear),this.widget.find(".prev-month").attr("title",l.prevMonth),this.widget.find(".next-month").attr("title",l.nextMonth),this.widget.find(".icon.time").attr("title",l.selectTime),this.widget.find('[data-action="incrementHours"] .icon').attr("data-tr","[title]"+l.incrementHours).attr("title",l.incrementHours),this.widget.find('[data-action="decrementHours"] .icon').attr("data-tr","[title]"+l.decrementHours).attr("title",l.decrementHours),this.widget.find('[data-action="incrementMinutes"] .icon').attr("data-tr","[title]"+l.incrementMinutes).attr("title",l.incrementMinutes),this.widget.find('[data-action="decrementMinutes"] .icon').attr("data-tr","[title]"+l.decrementMinutes).attr("title",l.decrementMinutes),this.widget.find('[data-action="incrementSeconds"] .icon').attr("data-tr","[title]"+l.incrementSeconds).attr("title",l.incrementSeconds),this.widget.find('[data-action="decrementSeconds"] .icon').attr("data-tr","[title]"+l.decrementSeconds).attr("title",l.decrementSeconds),window.i18next&&i18next.isInitialized&&this.widget.localize(),this.widget.find("[data-tr]").tooltip(),this.minViewMode=o.minViewMode||this.$element.data("date-minviewmode")||0,"string"==typeof this.minViewMode)switch(this.minViewMode){case"months":this.minViewMode=1;break;case"years":this.minViewMode=2;break;default:this.minViewMode=0}if(this.viewMode=o.viewMode||this.$element.data("date-viewmode")||0,"string"==typeof this.viewMode)switch(this.viewMode){case"months":this.viewMode=1;break;case"years":this.viewMode=2;break;default:this.viewMode=0}this.startViewMode=this.viewMode,this.weekStart=o.weekStart||this.$element.data("date-weekstart")||0,this.weekEnd=0===this.weekStart?6:this.weekStart-1,this.setStartDate(o.startDate||this.$element.data("date-startdate")),this.setEndDate(o.endDate||this.$element.data("date-enddate")),this.fillDow(),this.fillMonths(),this.fillHours(),this.fillMinutes(),this.fillSeconds(),this.update(),this.showMode(),this._attachDatePickerEvents(),this.options.inline?(this.widget.removeClass("dropdown-menu"),this.widget.show()):this.$element.addClass("dropdown")},show:function(t){this.widget.show(),this.height=this.component?this.component.outerHeight():this.$element.outerHeight(),this.place(),this.$element.trigger({type:"show",date:this._date}),this._attachDatePickerGlobalEvents(),t&&(t.stopPropagation(),t.preventDefault())},disable:function(){this.$element.find("input").prop("disabled",!0),this._detachDatePickerEvents()},enable:function(){this.$element.find("input").prop("disabled",!1),this._attachDatePickerEvents()},hide:function(){for(var t=this.widget.find(".collapse"),e=0;e<t.length;e++){var i=t.eq(e).data("collapse");if(i&&i.transitioning)return}this.options.inline||this.widget.hide(),this.viewMode=this.startViewMode,this.showMode(),this.$element.trigger({type:"hide",date:this._date}),this._detachDatePickerGlobalEvents()},set:function(){var t="";if(this._unset||(t=s(this.getLocalDate(this._date)).format(this.format)),this.options.inline||this.isInput)this.$element.val(t),this._resetMaskPos(this.$element);else{if(this.component){var e=this.$element.find("input");e.val(t),this._resetMaskPos(e)}this.$element.data("date",t)}this.$element.find("input").trigger("input")},setValue:function(t){this._unset=!t,"string"==typeof t?this._date=s.utc(t,this.format)._d:t&&(this._date=new Date(t)),this.set(),this.viewDate=k(this._date.getUTCFullYear(),this._date.getUTCMonth(),1,0,0,0,0),this.fillDate(),this.fillTime()},getDate:function(){return this._unset?null:new Date(this._date.valueOf())},setDate:function(t){t?"string"==typeof t?this.setValue(new Date(t).valueOf()):this.setValue(t.valueOf()):this.setValue(null)},setStartDate:function(t){t instanceof Date?this.startDate=t:"string"==typeof t?(this.startDate=new Date(t),this.startDate.getUTCFullYear()||(this.startDate=-1/0)):this.startDate=-1/0,this.viewDate&&this.update()},setEndDate:function(t){t instanceof Date?this.endDate=t:"string"==typeof t?(this.endDate=new Date(t),this.endDate.getUTCFullYear()||(this.endDate=1/0)):this.endDate=1/0,this.viewDate&&this.update()},getLocalDate:function(){if(this._unset)return null;var t=this._date;return new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds())},setLocalDate:function(t){t?this.setValue(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())):this.setValue(null)},place:function(){var t=this.component?this.component.offset():this.$element.offset();this.width=this.component?this.component.outerWidth():this.$element.outerWidth(),t.top=t.top+this.height;var e=y(window);null!=this.options.width&&this.widget.width(this.options.width),"left"==this.options.orientation&&(this.widget.addClass("left-oriented"),t.left=t.left-this.widget.width()+20),this._isInFixed()&&(t.top-=e.scrollTop(),t.left-=e.scrollLeft()),e.width()<t.left+this.widget.outerWidth()?(t.right=e.width()-t.left-this.width,t.left="auto",this.widget.addClass("pull-right")):(t.right="auto",this.widget.removeClass("pull-right"))},notifyChange:function(){this.$element.trigger({type:"changeDate",date:this.getDate(),localDate:this.getLocalDate()})},update:function(t){var e=t;if(!e&&((e=this.isInput?this.$element.val():this.$element.find("input").val())&&(this._date=s.utc(e,this.format)._d),!this._date)){var i=new Date;this._date=k(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds())}this.viewDate=k(this._date.getUTCFullYear(),this._date.getUTCMonth(),1,0,0,0,0),this.fillDate(),this.fillTime()},fillDow:function(){for(var t=this.weekStart,e=y("<tr>");t<this.weekStart+7;)e.append('<th class="dow">'+_[this.language].daysMin[t++%7]+"</th>");this.widget.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;e<12;)t+='<span class="month">'+_[this.language].monthsShort[e++]+"</span>";this.widget.find(".datepicker-months td").append(t)},getTodayDate:function(){return new Date},fillDate:function(){var t=this.viewDate.getUTCFullYear(),e=this.viewDate.getUTCMonth(),i=this.getTodayDate(),s=k(this._date.getUTCFullYear(),this._date.getUTCMonth(),this._date.getUTCDate(),0,0,0,0);i=k(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),0,0,0,0);var a="object"==typeof this.startDate?this.startDate.getUTCFullYear():-1/0,n="object"==typeof this.startDate?this.startDate.getUTCMonth():-1,o="object"==typeof this.endDate?this.endDate.getUTCFullYear():1/0,r="object"==typeof this.endDate?this.endDate.getUTCMonth():12;this.widget.find(".datepicker-days").find(".disabled").removeClass("disabled"),this.widget.find(".datepicker-months").find(".disabled").removeClass("disabled"),this.widget.find(".datepicker-years").find(".disabled").removeClass("disabled"),this.widget.find(".datepicker-days th.switch").text(_[this.language].months[e]+" "+t);var l=k(t,e-1,28,0,0,0,0),h=b.getDaysInMonth(l.getUTCFullYear(),l.getUTCMonth());l.setUTCDate(h),l.setUTCDate(h-(l.getUTCDay()-this.weekStart+7)%7),(t==a&&e<=n||t<a)&&this.widget.find(".datepicker-days th.prev-month, .datepicker-days th.prev-year").addClass("disabled"),(t==o&&r<=e||o<t)&&this.widget.find(".datepicker-days th.next-month, .datepicker-days th.next-year").addClass("disabled"),t==o&&t==a&&this.widget.find(".datepicker-days th.prev-year, .datepicker-days th.next-year").addClass("disabled");var d=new Date(l.valueOf());d.setUTCDate(d.getUTCDate()+42),d=d.valueOf();for(var c,p=[],u=[];l.valueOf()<d;){var m=l.getUTCDate();l.getUTCDay()===this.weekStart&&(c=y("<tr>"),p.push(c)),u=["day"],this.options.beforeShowDay&&u.push(this.options.beforeShowDay(l)||""),l.getUTCFullYear()<t||l.getUTCFullYear()==t&&l.getUTCMonth()<e?u.push("old"):(l.getUTCFullYear()>t||l.getUTCFullYear()==t&&l.getUTCMonth()>e)&&u.push("new"),l.valueOf()===i.valueOf()&&u.push("today"),l.valueOf()===s.valueOf()&&u.push("active"),(l.valueOf()+864e5<=this.startDate||l.valueOf()>this.endDate)&&u.push("disabled"),c.append('<td class="'+u.join(" ")+'">'+m+"</td>"),l.setUTCDate(m+1)}this.widget.find(".datepicker-days tbody").empty().append(p);var f=this._date.getUTCFullYear(),v=this.widget.find(".datepicker-months").find("th.switch").text(t).end().find("span").removeClass("active");f===t&&v.eq(this._date.getUTCMonth()).addClass("active"),f-1<a&&this.widget.find(".datepicker-months th.prev-year").addClass("disabled"),o<f+1&&this.widget.find(".datepicker-months th.next-year").addClass("disabled");for(var g=0;g<12;g++)(t==a&&g<n||t<a||t==o&&r<g||o<t)&&y(v[g]).addClass("disabled");p="",t=10*parseInt(t/10,10);var w=this.widget.find(".datepicker-years").find("th.switch").text(t+"-"+(t+9)).end().find("td");this.widget.find(".datepicker-years").find("th").removeClass("disabled"),t<a&&this.widget.find(".datepicker-years").find("th.prev-year").addClass("disabled"),o<t+9&&this.widget.find(".datepicker-years").find("th.next-year").addClass("disabled"),--t;for(g=-1;g<11;g++)p+='<span class="year'+(-1===g||10===g?" old":"")+(f===t?" active":"")+(t<a||o<t?" disabled":"")+'">'+t+"</span>",t+=1;w.html(p)},fillHours:function(){var t=this.widget.find(".timepicker .timepicker-hours table");t.parent().hide();var e="";if(this.options.pick12HourFormat)for(var i=1,s=0;s<3;s+=1){e+="<tr>";for(var a=0;a<4;a+=1){e+='<td class="hour">'+o(i.toString(),2,"0")+"</td>",i++}e+="</tr>"}else for(i=0,s=0;s<6;s+=1){e+="<tr>";for(a=0;a<4;a+=1){e+='<td class="hour">'+o(i.toString(),2,"0")+"</td>",i++}e+="</tr>"}t.html(e)},fillMinutes:function(){var t=this.widget.find(".timepicker .timepicker-minutes table");t.parent().hide();for(var e="",i=0,s=0;s<5;s++){e+="<tr>";for(var a=0;a<4;a+=1){e+='<td class="minute">'+o(i.toString(),2,"0")+"</td>",i+=3}e+="</tr>"}t.html(e)},fillSeconds:function(){var t=this.widget.find(".timepicker .timepicker-seconds table");t.parent().hide();for(var e="",i=0,s=0;s<5;s++){e+="<tr>";for(var a=0;a<4;a+=1){e+='<td class="second">'+o(i.toString(),2,"0")+"</td>",i+=3}e+="</tr>"}t.html(e)},fillTime:function(){if(this._date){var t=this.widget.find(".timepicker span[data-time-component]"),e=(t.closest("table"),this.options.pick12HourFormat),i=this._date.getUTCHours(),s="AM";e&&(12<=i&&(s="PM"),0===i?i=12:12!=i&&(i%=12),this.widget.find(".timepicker [data-action=togglePeriod]").text(s)),i=o(i.toString(),2,"0");var a=o(this._date.getUTCMinutes().toString(),2,"0"),n=o(this._date.getUTCSeconds().toString(),2,"0");t.filter("[data-time-component=hours]").text(i),t.filter("[data-time-component=minutes]").text(a),t.filter("[data-time-component=seconds]").text(n)}},click:function(t){t.stopPropagation(),t.preventDefault(),this._unset=!1;var e=y(t.target).closest("span, td, th");if(1===e.length&&!e.is(".disabled"))switch(e[0].nodeName.toLowerCase()){case"th":if(e.hasClass("switch"))this.showMode(1);else if(e.hasClass("prev-month")||e.hasClass("next-month")||e.hasClass("prev-year")||e.hasClass("next-year")){var i=this.viewDate,s=this.viewMode;0!==s||"prev-year"!=e[0].className&&"next-year"!=e[0].className||(s=1);var a=b.modes[s].navFnc,n=b.modes[s].navStep;"prev-month"!==e[0].className&&"prev-year"!==e[0].className||(n*=-1),i["set"+a](i["get"+a]()+n),this.fillDate()}break;case"span":if(e.is(".month")){var o=e.parent().find("span").index(e);this.viewDate.setUTCMonth(o),1==this.options.minViewMode&&this.hide()}else{var r=parseInt(e.text(),10)||0;this.viewDate.setUTCFullYear(r),2==this.options.minViewMode&&this.hide()}0!==this.viewMode&&(this._date=k(this.viewDate.getUTCFullYear(),this.viewDate.getUTCMonth(),this.viewDate.getUTCDate(),this._date.getUTCHours(),this._date.getUTCMinutes(),this._date.getUTCSeconds(),this._date.getUTCMilliseconds()),this.notifyChange(),this.set()),this.showMode(-1),this.fillDate();break;case"td":if(e.is(".day")){var l=parseInt(e.text(),10)||1;o=this.viewDate.getUTCMonth(),r=this.viewDate.getUTCFullYear();e.is(".old")?0===o?(o=11,--r):--o:e.is(".new")&&(11==o?(o=0,r+=1):o+=1),this._date=k(r,o,l,this._date.getUTCHours(),this._date.getUTCMinutes(),this._date.getUTCSeconds(),this._date.getUTCMilliseconds()),this.viewDate=k(r,o,Math.min(28,l),0,0,0,0),this.fillDate(),this.set(),this.notifyChange(),this.options.pickTime||this.hide()}}},actions:{incrementHours:function(t){this._date.setUTCHours(this._date.getUTCHours()+1)},incrementMinutes:function(t){this._date.setUTCMinutes(this._date.getUTCMinutes()+1)},incrementSeconds:function(t){this._date.setUTCSeconds(this._date.getUTCSeconds()+1)},decrementHours:function(t){this._date.setUTCHours(this._date.getUTCHours()-1)},decrementMinutes:function(t){this._date.setUTCMinutes(this._date.getUTCMinutes()-1)},decrementSeconds:function(t){this._date.setUTCSeconds(this._date.getUTCSeconds()-1)},togglePeriod:function(t){var e=this._date.getUTCHours();12<=e?e-=12:e+=12,this._date.setUTCHours(e)},showPicker:function(){this.widget.find(".timepicker > div:not(.timepicker-picker)").hide(),this.widget.find(".timepicker .timepicker-picker").show()},showHours:function(){this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-hours").show()},showMinutes:function(){this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-seconds").show()},selectHour:function(t){var e=y(t.target),i=parseInt(e.text(),10);this.options.pick12HourFormat&&(12<=this._date.getUTCHours()?12!=i&&(i=(i+12)%24):12===i?i=0:i%=12);this._date.setUTCHours(i),this.actions.showPicker.call(this)},selectMinute:function(t){var e=y(t.target),i=parseInt(e.text(),10);this._date.setUTCMinutes(i),this.actions.showPicker.call(this)},selectSecond:function(t){var e=y(t.target),i=parseInt(e.text(),10);this._date.setUTCSeconds(i),this.actions.showPicker.call(this)}},doAction:function(t){t.stopPropagation(),t.preventDefault(),this._date||(this._date=k(1970,0,0,0,0,0,0));var e=y(t.currentTarget).data("action");this._unset=!1;var i=this.actions[e].apply(this,arguments);return this.set(),this.fillTime(),this.notifyChange(),i},stopEvent:function(t){t.stopPropagation(),t.preventDefault()},keydown:function(t){var e=this,i=t.which,s=y(t.target);8!=i&&46!=i||setTimeout(function(){e._resetMaskPos(s)})},keypress:function(t){var e=t.which;if(8!=e&&46!=e){var i=y(t.target),s=String.fromCharCode(e),a=i.val()||"";a+=s;var n=this._mask[this._maskPos];if(!n)return!1;if(n.end==a.length){if(!n.pattern.test(a.slice(n.start))){for(a=a.slice(0,a.length-1);(n=this._mask[this._maskPos])&&n.character;)a+=n.character,this._maskPos++;return a+=s,n.end!=a.length?i.val(a):n.pattern.test(a.slice(n.start))?(i.val(a),this._maskPos++):i.val(a.slice(0,n.start)),!1}this._maskPos++}}},change:function(t){var e=y(t.target),i=e.val();if(this._formatPattern.test(i))this.update(),this.setValue(this._date.getTime()),this.notifyChange(),this.set();else if(i&&i.trim()){s(i.trim(),this.format).isValid()?(this.setValue(this._date.getTime()),this._date?this.set():e.val("")):(e.val(""),this.setValue(null),this.notifyChange(),this._unset=!0)}else this._date&&(this.setValue(null),this.notifyChange(),this._unset=!0);this._resetMaskPos(e)},showMode:function(t){t&&(this.viewMode=Math.max(this.minViewMode,Math.min(2,this.viewMode+t))),this.widget.find(".datepicker > div").hide().filter(".datepicker-"+b.modes[this.viewMode].clsName).show()},destroy:function(){this._detachDatePickerEvents(),this._detachDatePickerGlobalEvents(),this.widget.remove(),this.$element.removeData("datetimepicker"),this.component.removeData("datetimepicker")},formatDate:function(n){return this.format.replace(a,function(t){var e,i,s,a=t.length;if("ms"===t&&(a=1),"Hours12"===(i=h[t].property))0===(s=n.getUTCHours())?s=12:12!==s&&(s%=12);else{if("Period12"===i)return 12<=n.getUTCHours()?"PM":"AM";s="UTCYear"===i?(s=n.getUTCFullYear()).toString().substr(2):n[e="get"+i]()}return"getUTCMonth"===e&&(s+=1),o(s.toString(),a,"0")})},parseDate:function(t){var e,i,s,a,n={};if(!(e=this._formatPattern.exec(t)))return null;for(i=1;i<e.length;i++)(s=this._propertiesByIndex[i])&&(a=e[i],/^\d+$/.test(a)&&(a=parseInt(a,10)),n[s]=a);return this._finishParsingDate(n)},_resetMaskPos:function(t){if(!this.options.inline)for(var e=t.val(),i=0;i<this._mask.length;i++){if(this._mask[i].end>e.length){this._maskPos=i;break}if(this._mask[i].end===e.length){this._maskPos=i+1;break}}},_finishParsingDate:function(t){var e,i,s,a,n,o,r;return e=t.UTCFullYear,t.UTCYear&&(e=2e3+t.UTCYear),e=e||1970,i=t.UTCMonth?t.UTCMonth-1:0,s=t.UTCDate||1,a=t.UTCHours||0,n=t.UTCMinutes||0,o=t.UTCSeconds||0,r=t.UTCMilliseconds||0,t.Hours12&&(a=t.Hours12),t.Period12&&(/pm/i.test(t.Period12)?12!=a&&(a=(a+12)%24):a%=12),k(e,i,s,a,n,o,r)},_compileFormat:function(){for(var t,e,i=[],s=[],a=this.format,n={},o=0,r=0;t=d.exec(a);)(e=t[0])in h?(n[++o]=h[e].property,i.push("\\s*"+h[e].getPattern(this)+"\\s*"),s.push({pattern:new RegExp(h[e].getPattern(this)),property:h[e].property,start:r,end:r+=e.length})):(i.push(c(e)),s.push({pattern:new RegExp(c(e)),character:e,start:r,end:++r})),a=a.slice(e.length);this._mask=s,this._maskPos=0,this._formatPattern=new RegExp("^\\s*"+i.join("")+"\\s*$"),this._propertiesByIndex=n},_attachDatePickerEvents:function(){var r=this;this.widget.on("click",".datepicker *",y.proxy(this.click,this)),this.widget.on("click","[data-action]",y.proxy(this.doAction,this)),this.widget.on("mousedown",y.proxy(this.stopEvent,this)),this.pickDate&&this.pickTime&&this.widget.on("click.togglePicker",".accordion-toggle",function(t){t.stopPropagation();var e=y(this),i=e.closest("ul"),s=i.find(".collapse.show"),a=i.find(".collapse:not(.show)");if(s&&s.length){var n=s.data("collapse");if(n&&n.transitioning)return;var o=e.find("i");s.collapse("hide"),a.collapse("show"),o.toggleClass(r.timeIcon+" "+r.dateIcon),o.attr("title",o.hasClass(r.dateIcon)?l.selectDate:l.selectTime),window.i18next&&i18next.isInitialized&&o.localize(),r.$element.find(".add-on i").toggleClass(r.timeIcon+" "+r.dateIcon)}}),this.isInput?(this.$element.on({focus:y.proxy(this.show,this),change:y.proxy(this.change,this)}),this.options.maskInput&&this.$element.on({keydown:y.proxy(this.keydown,this),keypress:y.proxy(this.keypress,this)})):(this.$element.on({change:y.proxy(this.change,this)},"input"),this.options.maskInput&&this.$element.on({keydown:y.proxy(this.keydown,this),keypress:y.proxy(this.keypress,this)},"input"),this.component?this.component.on("click",y.proxy(this.show,this)):this.$element.on("click",y.proxy(this.show,this)))},_attachDatePickerGlobalEvents:function(){y(window).on("resize.datetimepicker"+this.id,y.proxy(this.place,this)),this.isInput||y(document).on("mousedown.datetimepicker"+this.id,y.proxy(this.hide,this))},_detachDatePickerEvents:function(){this.widget.off("click",".datepicker *",this.click),this.widget.off("click","[data-action]"),this.widget.off("mousedown",this.stopEvent),this.pickDate&&this.pickTime&&this.widget.off("click.togglePicker"),this.isInput?(this.$element.off({focus:this.show,change:this.change}),this.options.maskInput&&this.$element.off({keydown:this.keydown,keypress:this.keypress})):(this.$element.off({change:this.change},"input"),this.options.maskInput&&this.$element.off({keydown:this.keydown,keypress:this.keypress},"input"),this.component?this.component.off("click",this.show):this.$element.off("click",this.show))},_detachDatePickerGlobalEvents:function(){y(window).off("resize.datetimepicker"+this.id),this.isInput||y(document).off("mousedown.datetimepicker"+this.id)},_isInFixed:function(){if(this.$element){for(var t=this.$element.parents(),e=!1,i=0;i<t.length;i++)if("fixed"==y(t[i]).css("position")){e=!0;break}return e}return!1}},y.fn.datetimepicker=function(s,a){return this.each(function(){var t=y(this),e=t.data("datetimepicker"),i="object"==typeof s&&s;e||t.data("datetimepicker",e=new n(this,y.extend({},y.fn.datetimepicker.defaults,i))),"string"==typeof s&&e[s](a)})},y.fn.datetimepicker.defaults={maskInput:!1,pickDate:!0,pickTime:!1,pick12HourFormat:!1,pickSeconds:!1,startDate:-1/0,endDate:1/0,collapse:!0,beforeShowDay:null,inline:!1},y.fn.datetimepicker.Constructor=n;var i=0,l={prevMonth:window.i18next?"previous.month":"Previous Month",nextMonth:window.i18next?"next.month":"Next Month",prevYear:window.i18next?"previous.year":"Previous Year",nextYear:window.i18next?"next.year":"Next Year",selectTime:window.i18next?"select.time":"Select Time",selectDate:window.i18next?"select.date":"Select Date",incrementHours:window.i18next?"increment.hour":"Increment Hour",incrementMinutes:window.i18next?"increment.minute":"Increment Minute",incrementSeconds:window.i18next?"increment.second":"Increment Second",decrementHours:window.i18next?"decrement.hour":"Decrement Hour",decrementMinutes:window.i18next?"decrement.minute":"Decrement Minute",decrementSeconds:window.i18next?"decrement.second":"Decrement Second",calendar:window.i18next?"calendar":"Calendar",timer:window.i18next?"timer":"Timer"};y.fn.setDateTime=function(t){this.each(function(){y(this).data("datetimepicker").setDate(t)})},y.fn.getDateTime=function(){return y(this).find("input").val()?y(this).data("datetimepicker").getDate():""},y.fn.destroyDatePicker=function(){this.each(function(){var t=y(this).data("datetimepicker");t.setDate(null),t.destroy()})};var _=y.fn.datetimepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}},h={DD:{property:"UTCDate",getPattern:function(){return"(0?[1-9]|[1-2][0-9]|3[0-1])\\b"}},MM:{property:"UTCMonth",getPattern:function(){return"(0?[1-9]|1[0-2])\\b"}},YY:{property:"UTCYear",getPattern:function(){return"(\\d{2})\\b"}},YYYY:{property:"UTCFullYear",getPattern:function(){return"(\\d{4})\\b"}},hh:{property:"UTCHours",getPattern:function(){return"(0?[0-9]|1[0-9]|2[0-3])\\b"}},mm:{property:"UTCMinutes",getPattern:function(){return"(0?[0-9]|[1-5][0-9])\\b"}},ss:{property:"UTCSeconds",getPattern:function(){return"(0?[0-9]|[1-5][0-9])\\b"}},ms:{property:"UTCMilliseconds",getPattern:function(){return"([0-9]{1,3})\\b"}},HH:{property:"Hours12",getPattern:function(){return"(0?[1-9]|1[0-2])\\b"}},A:{property:"Period12",getPattern:function(){return"(AM|PM|am|pm|Am|aM|Pm|pM)\\b"}},a:{property:"Period12",getPattern:function(){return"(AM|PM|am|pm|Am|aM|Pm|pM)\\b"}}},t=[];for(var e in h)t.push(e);t[t.length-1]+="\\b",t.push(".");var d=new RegExp(t.join("\\b|"));t.pop();var a=new RegExp(t.join("\\b|"),"g");function c(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function o(t,e,i){return e<t.length?t:Array(e-t.length+1).join(i||" ")+t}function k(){return new Date(Date.UTC.apply(Date,arguments))}var b={modes:[{clsName:"days",navFnc:"UTCMonth",navStep:1},{clsName:"months",navFnc:"UTCFullYear",navStep:1},{clsName:"years",navFnc:"UTCFullYear",navStep:10}],isLeapYear:function(t){return t%4==0&&t%100!=0||t%400==0},getDaysInMonth:function(t,e){return new Date(t,e+1,0).getDate()},headTemplateForDays:'<thead><tr class="controls"><th class="prev-year"><a href="javascript:;"><i class="icon chevrons-left"></i></a></th><th class="prev-month"><a href="javascript:;"><i class="icon chevron-left"></i></a></th><th colspan="3" class="switch action"></th><th class="next-month"><a href="javascript:;"><i class="icon chevron-right"></i></a></th><th class="next-year"><a href="javascript:;"><i class="icon chevrons-right"></i></a></th></tr></thead>',headTemplateForMonth:'<thead><tr class="controls"><th class="prev-year"><a href="javascript:;"><i class="icon chevrons-left"></i></a></th><th colspan="5" class="switch action"></th><th class="next-year"><a href="javascript:;"><i class="icon chevrons-right"></i></a></th></tr></thead>',headTemplateForYear:'<thead><tr class="controls"><th class="prev-year"><a href="javascript:;"><i class="icon chevrons-left"></i></a></th><th colspan="5" class="switch"></th><th class="next-year"><a href="javascript:;"><i class="icon chevrons-right"></i></a></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'};b.template='<div class="datepicker-days"><table class="table-condensed">'+b.headTemplateForDays+'<tbody></tbody></table></div><div class="datepicker-months"><table class="table-condensed">'+b.headTemplateForMonth+b.contTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+b.headTemplateForYear+b.contTemplate+"</table></div>";var p={hourTemplate:'<span data-action="showHours" data-time-component="hours" class="timepicker-hour"></span>',minuteTemplate:'<span data-action="showMinutes" data-time-component="minutes" class="timepicker-minute"></span>',secondTemplate:'<span data-action="showSeconds" data-time-component="seconds" class="timepicker-second"></span>',getTemplate:function(t,e){return'<div class="timepicker-picker"><table class="table-condensed"'+(t?' data-hour-format="12"':"")+'><tr><td><a href="#" data-action="incrementHours"><i class="icon chevron-up"></i></a></td><td class="separator"></td><td><a href="#" data-action="incrementMinutes"><i class="icon chevron-up"></i></a></td>'+(e?'<td class="separator"></td><td><a href="#" data-action="incrementSeconds"><i class="icon chevron-up"></i></a></td>':"")+(t?'<td class="separator"></td>':"")+"</tr><tr><td>"+p.hourTemplate+'</td> <td class="separator">:</td><td>'+p.minuteTemplate+"</td> "+(e?'<td class="separator">:</td><td>'+p.secondTemplate+"</td>":"")+(t?'<td class="separator"></td><td><button type="button" class="btn btn-primary" data-action="togglePeriod"></button></td>':"")+'</tr><tr><td><a href="#" data-action="decrementHours"><i class="icon chevron-down"></i></a></td><td class="separator"></td><td><a href="#" data-action="decrementMinutes"><i class="icon chevron-down"></i></a></td>'+(e?'<td class="separator"></td><td><a href="#" data-action="decrementSeconds"><i class="icon chevron-down"></i></a></td>':"")+(t?'<td class="separator"></td>':"")+'</tr></table></div><div class="timepicker-hours" data-action="selectHour"><table class="table-condensed"></table></div><div class="timepicker-minutes" data-action="selectMinute"><table class="table-condensed"></table></div>'+(e?'<div class="timepicker-seconds" data-action="selectSecond"><table class="table-condensed"></table></div>':"")}}}),$.fn.responsiveTabs=function(d){return this.each(function(t,e){var i,a,s=$(e),n=s.width(),o=0,r=s.find("li.responsive-tab.nav-item");if(d&&s.attr("data-options",JSON.stringify(d)),r.length||s.append(' <li class="nav-item responsive-tab">  <div class="contextual-menu d-inline-flex dropdown">     <a href="javascript:;" class="nav-link dropdown-toggle" data-toggle="dropdown" x-placement="bottom-end" data-tr="[title]moretext" title="More"><i class="icon contextual-menu"></i></a>    <div class="dropdown-menu dropdown-menu-right"></div>   </div>  </li>'),window.i18next&&i18next.isInitialized&&s.localize(),(i=s.find("li.nav-item")).each(function(t,e){var i=$(e);o+=i.outerWidth(),i.find(".nav-link").attr("data-tab-index",t)}),r=s.find("li.responsive-tab.nav-item"),(a=r.find(".dropdown-menu")).empty(),i.show(),i=i.toArray().reverse(),o<n)r.hide();else{r.show();var l=1;i.forEach(function(t){var e=$(t),i=e.find(".nav-link");if(!e.hasClass("responsive-tab")&&!i.hasClass("active")&&n<o){var s=e.outerWidth();o-=s,e.hide(),a.append(i[0].outerHTML),a.find(".nav-link:nth-child("+l+")").addClass("dropdown-item").removeClass("nav-link"),l++}}),s.find("li.nav-item").off("click",h).on("click",h),a.off("click").on("click",function(t){var i=event.target;a.find(".active").removeClass("active"),s.find("li .nav-link.active").removeClass("active"),setTimeout(function(){var t,e=s.find('li .nav-link[data-tab-index="'+$(i).attr("data-tab-index")+'"]');e.addClass("active"),function(t,e){var i;"function"==typeof Event?i=new CustomEvent(e,{view:window,bubbles:!0,cancelable:!0}):(i=document.createEvent("Event")).initEvent(e,!0,!0);t.each(function(){this.dispatchEvent(i)})}(e[0],"click"),s.attr("data-options")&&(t=JSON.parse(s.attr("data-options"))),s.responsiveTabs(t)},10)})}function h(){a.find(".active").removeClass("active")}})},$(window).on("resize",function(){var t=$(".responsive-tab");if(t&&t.length){var e,i=t.closest("ul.nav.nav-tabs");i.attr("data-options")&&(e=JSON.parse(i.attr("data-options"))),i.responsiveTabs(e)}}),$.fn.selectpick=function(t){function y(t){return t=t||"",window.xsr?t.beginsWithStr("i18n:")?' data-i18n="'+t.trimLeftStr("i18n:")+'"':"":t}function _(t,e,i){var s;if("function"==typeof Event){if(e&&t){var a={view:window,bubbles:!0,cancelable:!0};i=$.extend({},a,i),s=new CustomEvent(e,i)}}else(s=document.createEvent("Event")).initEvent(e,!0,!0);t.each(function(){this.dispatchEvent(s)})}var k=$.extend({},{search:!1,searchPlaceHolder:"",title:"",listTitle:"",multiple:"",pills:!1,disabled:"",checkbox:!1,closeButton:!1,buttonText:"Ok",searchResultText:"No results found",scrollMaxHeight:200,showMore:!1,maxSelections:0},t);return this.each(function(){var t=$(this),e=t.closest("form"),i=t.attr("id")||"sp"+Date.now(),o=t.attr("multiple")||"",s=t.attr("disabled")||"",a=t.attr("class")||"",n=k.hasOwnProperty("placeHolder"),r=n?k.placeHolder:"Select",l=(k.closeButton,s?'tabindex="-1"':""),h=[],d=k.search?"search":"",c=(k.toggleMoreLess,k.orientation||""),p="always"==c?'data-flip="false"':"";t.attr("id",i),$.fn.selectpick.gSettings[i]=k;var u,m='<div class="dropdown '+c+'"><a href="javascript:void(0);" class="select dropdown-toggle '+a+" "+s+" "+d+'" '+l+' id="'+i+'_select" data-toggle="dropdown" '+p+" "+y(r)+">"+r+"</a>";k.search&&(m+='<input type="text" class="select-search hide" '+(u=(u=k.searchPlaceHolder)||"",window.xsr&&u.beginsWithStr("i18n:")?"data-i18n=\"placeholder:'"+u+"'\"":' placeholder="'+u+'" ')+' autocomplete="off" />'),m+='<ul class="dropdown-menu '+(k.checkbox?"check-box":"")+'" data-sel-items="">',k.listTitle&&(m+='<li class="dropdown-item list-title '+!!k.listTitle+'" '+y(k.listTitle)+">"+k.listTitle+"</li>"),o&&0==k.maxSelections&&(m+='<a href="javascript:;" class="dropdown-item toggle-select-all">All</a>'),m+='<div class="dropdown-menu-scroll" style="max-height:'+k.scrollMaxHeight+'px">',m+='<div class="selected-items"></div>',k.toggleMoreLess&&(m+='<div class="toggle-show-hide"><a href="javascript:;">Show more</a></div>'),m+='<div class="no-selected-items"></div>',m+="</div>",k.searchResultText&&(m+='<li class="dropdown-item search-result hide" '+y(k.searchResultText)+">"+k.searchResultText+"</li>"),k.closeButton&&(m+='<li class="dropdown-item close-button"><a href="javascript:;" class="btn btn-primary" '+y(k.buttonText)+">"+k.buttonText+"</a></li>"),m+="</ul></div>",t.closest("div").addClass("selectpicker "+o),t.siblings("label").attr("for",i);var f=t.closest(".selectpicker"),v=f.find("#"+i+"_select").length<1;v&&$(m).insertAfter(t),f.closest("th").hasClass("dropdown")||setTimeout(function(){f.find(".dropdown-toggle").dropdown()},500),window.xsr&&xsr.i18n.apply(g),k.pills&&t.closest("div").addClass("pills");var g=t.closest(".selectpicker");function w(t){var e=$("#"+t).closest(".selectpicker"),i=$.fn.selectpick.gSettings[t],s=e.find("option"),r="",l="";h=[],s.each(function(t,e){var i=$(e),s=i.text(),a=i.is(":selected")?"selected":"",n=i.is(":disabled")?"disabled":"",o=n?'tabindex="-1"':"";i.attr("data-sl-rel",t),a?(l+='<a class="dropdown-item '+a+" "+n+'" '+o+' href="javascript:;" data-dr-rel="'+t+'" draggable="false">'+s+"</a>",h.push(s)):r+='<a class="dropdown-item '+a+" "+n+'" '+o+' href="javascript:;" data-dr-rel="'+t+'" draggable="false">'+s+"</a>"}),e.find(".dropdown-menu-scroll .selected-items").html(l),e.find(".dropdown-menu-scroll .no-selected-items").html(r),e.find(".dropdown-menu").attr("data-sel-items",h.join("|")),$.fn.selectpick.selectionControl(g),$.fn.selectpick.disableOptions(g,k),$.fn.selectpick.selections(t,i)}n&&!o&&0==t.find("option:first-child[selected]").length&&t.find("option:first-child:selected").closest("select").prop("selectedIndex",-1),w(i),window.setDropdownOptions=w,v&&(g.find(".select-search").on("keyup",function(){var t="addClass",e=$(this).val().toLowerCase();e&&e.length?(g.find("a.dropdown-item:not(.toggle-select-all)").filter(function(){$(this).toggle(-1<$(this).text().toLowerCase().indexOf(e))}),t=g.find("a.dropdown-item:visible").length?"addClass":"removeClass"):g.find("a.dropdown-item:not(.toggle-select-all)").filter(function(){$(this).show()}),g.find(".search-result")[t]("hide")}),g.off("click").on("click",".dropdown-toggle",function(t){t.stopPropagation();var e=$(this).closest(".selectpicker").find(".dropdown-menu");$(".selectpicker > .dropdown").not($(this).closest(".selectpicker")).removeClass("show").find(".dropdown-menu").removeClass("show"),g.toggleClass("show").find(".dropdown-menu").toggleClass("show"),g.find(".select-search").val(""),e.find("a.dropdown-item").css("display","block"),k.search||e.find("a.dropdown-item.selected").focus(),window.xsr&&xsr.i18n.apply(".selectpicker .dropdown-menu")}),g.on("click",".dropdown-menu",function(t){$(this).is(".show")&&g.hasClass("multiple")&&t.stopPropagation()}),g.on("click",".select-search",function(t){t.stopPropagation()}),g.on("click",".close-button a.btn",function(t){g.removeClass("show").find(".dropdown-menu").removeClass("show")}),g.on("click","a.dropdown-item:not(.toggle-select-all)",function(t){var e=$(this),i=e.closest(".selectpicker").find("select").attr("id"),s=e.data("drRel"),a=g.hasClass("multiple"),n=e.closest(".dropdown-menu"),o=""+n.attr("data-sel-items"),r=o?o.split("|"):[];a?e.toggleClass("selected"):(n.find("a.dropdown-item").removeClass("selected"),e.addClass("selected"),g.removeClass("show").find(".dropdown-menu").removeClass("show"),r=[]);var l=e.hasClass("selected");if(g.find('[data-sl-rel="'+s+'"]').prop("selected",l),l)r.push(e.text()),n.data("selItems",r.join("|")).attr("data-sel-items",r.join("|"));else{var h=r.indexOf(e.text());-1<h&&r.splice(h,1),n.data("selItems",r.join("|")).attr("data-sel-items",r.join("|"))}$.fn.selectpick.selectionControl(g),$.fn.selectpick.disableOptions(g,k),$.fn.selectpick.selections(i,k),_(g.find("select"),"change")}),g.on("click","a.pill-close",function(t){t.stopPropagation();var e=$(this).data("plRel");g.find('[data-dr-rel="'+e+'"]').removeClass("selected"),g.find('[data-sl-rel="'+e+'"]').prop("selected",!1),$.fn.selectpick.selections(g,k),_(g.find("select"),"change")}),g.on("click","a.dropdown-item.toggle-select-all",function(t){var e=$(this),i=e.closest(".selectpicker").find("select").attr("id"),o=e.closest(".dropdown-menu"),s=o.find("a.dropdown-item:not(.toggle-select-all):not(.disabled)"),a=o.find("a.dropdown-item:not(.toggle-select-all):not(.disabled).selected");s.length===a.length?s.removeClass("selected"):s.addClass("selected"),$.fn.selectpick.selectionControl(g),h=[],s.each(function(t,e){var i=$(e),s=i.hasClass("selected"),a=i.data("drRel");if(g.find('[data-sl-rel="'+a+'"]').prop("selected",s),s)h.push(i.text()),o.data("selItems",h.join("|")).attr("data-sel-items",h.join("|"));else{var n=h.indexOf(i.text());-1<n&&h.splice(n,1),o.data("selItems",h.join("|")).attr("data-sel-items",h.join("|"))}}),$.fn.selectpick.selections(i,k),_(g.find("select"),"change")}),g.on("click",".toggle-show-hide > a",function(t){var e=$(this),i=e.closest(".dropdown-menu-scroll").find(".selected-items"),s="Show more"==e.text()?"Show less":"Show more";i.toggleClass("show-less"),e.text(s)}),g.on("show.bs.dropdown",function(){var t=g.find(".dropdown-menu-scroll a.dropdown-item"),e=g.find(".dropdown-menu-scroll a.dropdown-item.selected"),i=0<e.length?"removeClass":"addClass",s=o&&k.toggleMoreLess&&10<t.length&&2<e.length?"addClass":"removeClass";function a(t,e){return t.getAttribute("data-dr-rel")-e.getAttribute("data-dr-rel")}if(t.sort(a),e.sort(a),g.find(".dropdown-menu-scroll .no-selected-items").html(t),g.find(".selected-items").html(e),g.find(".selected-items")[i]("hide"),g.find(".selected-items")[s]("more-items"),g.find(".selected-items")[s]("show-less"),k.search){var n=g.find(".select-search");n.removeClass("hide"),setTimeout(function(){n.focus()},0)}}),g.on("hide.bs.dropdown",function(){k.search&&(g.find(".select-search").addClass("hide").val(""),setTimeout(function(){_(g.find(".select-search"),"keyup")},0))})),e.off("reset").on("reset",function(){$(this).find(".selectpicker select").each(function(t){var e=this.id;$(this).prop("selectedIndex",-1),w(e)})})})},$.fn.selectpick.gSettings={},$.fn.selectpick.disableOptions=function(t,e){if(0!=e.maxSelections){var i=t.find(".dropdown-menu"),s=i.find("a.dropdown-item:not(.toggle-select-all):not(.disabled):not(.selected)"),a=i.find("a.dropdown-item[data-disabled]:not(.toggle-select-all):not(.selected)");i.find("a.dropdown-item:not(.toggle-select-all):not(.disabled).selected").length===e.maxSelections?s.addClass("disabled").attr("data-disabled",!0):a.removeClass("disabled").removeAttr("data-disabled")}},$.fn.selectpick.selectionControl=function(t){var e=t.find(".dropdown-menu"),i=e.find("a.dropdown-item.toggle-select-all"),s=e.find("a.dropdown-item:not(.toggle-select-all):not(.disabled)"),a=e.find("a.dropdown-item:not(.toggle-select-all):not(.disabled).selected");0<s.length&&s.length===a.length?i.addClass("selected"):i.removeClass("selected")},$.fn.selectpick.selections=function(t,e){var i=$("#"+t).closest(".selectpicker"),r="",l=i.hasClass("multiple"),h="",s=e.placeHolder||"",d=e.pills,c=e.showMore;i.find("a.dropdown-item:not(.toggle-select-all).selected").each(function(t,e){var i=$(this),s=i.text(),a=i.data("drRel"),n=(""+i.closest(".dropdown-menu").attr("data-sel-items")).split("|");if(l)if(d)r+='<span class="pill-button">'+s+'<a href="javascript:;" class="pill-close" data-pl-rel="'+a+'">×</a></span>';else if(c)r+='<span class="multi">'+s+"</span>";else{h=n.join(", ");var o=1<n.length?n[0]+'<span title="'+h+'">...(+'+(n.length-1)+")</span>":s;r="<span>"+o+"</span>"}else r="<span>"+s+"</span>"}),i.find(".dropdown-toggle").html(r?c?'<div class="multi-wrap"><span class="multi-text">'+r+'</span><span class="multi-count hide"><span></span></span></div>':r:"<span>"+s+"</span>"),window.xsr&&0==r.length&&s.beginsWithStr("i18n:")&&xsr.i18n.apply(".selectpicker"),c&&($.fn.selectpick.countMulti(i),$(window).resize(function(){$.fn.selectpick.countMulti(i)}))},$.fn.selectpick.countMulti=function(t){var e=$(t),i=e.find(".multi-wrap"),s=0<i.length,a=i.width(),n=(s?i.offset().left:0)+a,o=i.find(".multi"),r=e.find(".multi-count");o.each(function(t,e){var i=$(e),s=i.offset().left+80;i.removeClass("hidden"),n<s&&i.addClass("hidden")});var l=i.find(".hidden").length,h=0<l?"removeClass":"addClass",d=[];i.find(".hidden").each(function(t,e){var i=$(e).text();d.push(i)});var c=d.join(", ");r.find("span").html("+"+l),r[h]("hide"),r.attr("title",c)},$(document).click(function(t){$(".selectpicker:not(.multiple)").find(".dropdown").removeClass("show").find(".dropdown-menu").removeClass("show"),$(".no-close-button").removeClass("show").closest(".selectpicker").removeClass("show")}),$(document).on("focusout",".selectpicker .dropdown-menu.show:not(.has-close-button) .dropdown-item.close-button .btn",function(){setTimeout(function(){$(this).siblings().is(":focus")||$(this).closest(".dropdown").find().removeClass("show").find(".dropdown-menu").removeClass("show")},100)}),document.onkeydown=function(t){27==(t=t||window.event).keyCode&&$(".selectpicker").removeClass("show").find(".dropdown-menu").removeClass("show"),32==t.keyCode&&$(".selectpicker.show").find(".dropdown-menu a.dropdown-item:focus").trigger("click")},$.fn.selectpick.resetValue=function(t){var e=$(t);e.find("a.select.dropdown-toggle > span").text(""),e.find("div.dropdown-menu-scroll .selected").removeClass("selected")},$.fn.selectpick.toggleDisableState=function(t,e){$(t).find("a.select.dropdown-toggle")[e?"addClass":"removeClass"]("disabled")},$.fn.setSelectValue=function(t){var e=$(this),i=e.attr("id");e.val(t),setDropdownOptions(i)},$.fn.setSelectOptions=function(d){if(d.options){var t=$(this),e=t.attr("id"),i=t.closest("div").hasClass("selectpicker"),s=t.attr("multiple")||"",a=d.settings||{},c="",n="string"==typeof d.options?d.options.split(","):d.options,p=d.textKey||"text",u=d.valueKey||"value",m=d.disabled||[];n.forEach(function(t,e){var i,s,a="object"==typeof t,n=a?t[p]:t,o=a?t[u]:t,r=d.hasOwnProperty("selectedText")?"selectedText":"selectedValue",l=d.hasOwnProperty("selectedText")?n:o,h=d.hasOwnProperty(r)?"string"==typeof d[r]?d[r].split(","):d[r]:[];Array.isArray(h)||(h=[h]),Array.isArray(m)||(m=[m]),i=h.find(function(t){return t==l})?"selected":"",s=m.find(function(t){return t==l})?"disabled":"",c+='<option value="'+o+'" '+i+" "+s+">"+n+"</option>"}),t.html(c),a.placeHolder&&!s&&0==t.find("option:first-child[selected]").length&&t.find("option:first-child:selected").closest("select").prop("selectedIndex",-1),i?setDropdownOptions(e):t.selectpick(a)}else console.log("Supply options.")};var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},windowIsDefined="object"===("undefined"==typeof window?"undefined":_typeof(window));!function(t){if("function"==typeof define&&define.amd)define(["jquery"],t);else if("object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports){var e;try{e=require("jquery")}catch(t){e=null}module.exports=t(e)}else window&&(window.Slider=t(window.jQuery))}(function(t){var e,a="bootstrapSlider";return windowIsDefined&&!window.console&&(window.console={}),windowIsDefined&&!window.console.log&&(window.console.log=function(){}),windowIsDefined&&!window.console.warn&&(window.console.warn=function(){}),function(t){"use strict";var p=Array.prototype.slice;function e(){}!function(d){if(d){var c="undefined"==typeof console?e:function(t){console.error(t)};d.bridget=function(t,e){var i,l,h;(i=e).prototype.option||(i.prototype.option=function(t){d.isPlainObject(t)&&(this.options=d.extend(!0,this.options,t))}),l=t,h=e,d.fn[l]=function(e){if("string"==typeof e){for(var t=p.call(arguments,1),i=0,s=this.length;i<s;i++){var a=this[i],n=d.data(a,l);if(n)if(d.isFunction(n[e])&&"_"!==e.charAt(0)){var o=n[e].apply(n,t);if(void 0!==o&&o!==n)return o}else c("no such method '"+e+"' for "+l+" instance");else c("cannot call methods on "+l+" prior to initialization; attempted to call '"+e+"'")}return this}var r=this.map(function(){var t=d.data(this,l);return t?(t.option(e),t._init()):(t=new h(this,e),d.data(this,l,t)),d(this)});return!r||1<r.length?r:r[0]}},d.bridget}}(t)}(t),function(I){var s=function(t){return"Invalid input value '"+t+"' passed in"},V={linear:{toValue:function(t){var e=t/100*(this.options.max-this.options.min),i=!0;if(0<this.options.ticks_positions.length){for(var s,a,n,o=0,r=1;r<this.options.ticks_positions.length;r++)if(t<=this.options.ticks_positions[r]){s=this.options.ticks[r-1],n=this.options.ticks_positions[r-1],a=this.options.ticks[r],o=this.options.ticks_positions[r];break}e=s+(t-n)/(o-n)*(a-s),i=!1}var l=(i?this.options.min:0)+Math.round(e/this.options.step)*this.options.step;return l<this.options.min?this.options.min:l>this.options.max?this.options.max:l},toPercentage:function(t){if(this.options.max===this.options.min)return 0;if(0<this.options.ticks_positions.length){for(var e,i,s,a=0,n=0;n<this.options.ticks.length;n++)if(t<=this.options.ticks[n]){e=0<n?this.options.ticks[n-1]:0,s=0<n?this.options.ticks_positions[n-1]:0,i=this.options.ticks[n],a=this.options.ticks_positions[n];break}if(0<n)return s+(t-e)/(i-e)*(a-s)}return 100*(t-this.options.min)/(this.options.max-this.options.min)}},logarithmic:{toValue:function(t){var e=0===this.options.min?0:Math.log(this.options.min),i=Math.log(this.options.max),s=Math.exp(e+(i-e)*t/100);return Math.round(s)===this.options.max?this.options.max:(s=this.options.min+Math.round((s-this.options.min)/this.options.step)*this.options.step)<this.options.min?this.options.min:s>this.options.max?this.options.max:s},toPercentage:function(t){if(this.options.max===this.options.min)return 0;var e=Math.log(this.options.max),i=0===this.options.min?0:Math.log(this.options.min);return 100*((0===t?0:Math.log(t))-i)/(e-i)}}};function i(t,e){this._state={value:null,enabled:null,offset:null,size:null,percentage:null,inDrag:!1,over:!1},this.ticksCallbackMap={},this.handleCallbackMap={},"string"==typeof t?this.element=document.querySelector(t):t instanceof HTMLElement&&(this.element=t),e=e||{};for(var i=Object.keys(this.defaultOptions),s=0;s<i.length;s++){var a=i[s],n=e[a];n=null!==(n=void 0!==n?n:o(this.element,a))?n:this.defaultOptions[a],this.options||(this.options={}),this.options[a]=n}function o(t,e){var i="data-slider-"+e.replace(/_/g,"-"),s=t.getAttribute(i);try{return JSON.parse(s)}catch(t){return s}}"auto"===this.options.rtl&&(this.options.rtl="rtl"===window.getComputedStyle(this.element).direction),"vertical"!==this.options.orientation||"top"!==this.options.tooltip_position&&"bottom"!==this.options.tooltip_position?"horizontal"!==this.options.orientation||"left"!==this.options.tooltip_position&&"right"!==this.options.tooltip_position||(this.options.tooltip_position="top"):this.options.rtl?this.options.tooltip_position="left":this.options.tooltip_position="right";var r,l,h,d,c,p=this.element.style.width,u=!1,m=this.element.parentNode;if(this.sliderElem)u=!0;else{this.sliderElem=document.createElement("div"),this.sliderElem.className="slider";var f=document.createElement("div");f.className="slider-track",(l=document.createElement("div")).className="slider-track-low",(r=document.createElement("div")).className="slider-selection",(h=document.createElement("div")).className="slider-track-high",(d=document.createElement("div")).className="slider-handle min-slider-handle",d.setAttribute("role","slider"),d.setAttribute("aria-valuemin",this.options.min),d.setAttribute("aria-valuemax",this.options.max),(c=document.createElement("div")).className="slider-handle max-slider-handle",c.setAttribute("role","slider"),c.setAttribute("aria-valuemin",this.options.min),c.setAttribute("aria-valuemax",this.options.max),f.appendChild(l),f.appendChild(r),f.appendChild(h),this.rangeHighlightElements=[];var v=this.options.rangeHighlights;if(Array.isArray(v)&&0<v.length)for(var g=0;g<v.length;g++){var w=document.createElement("div"),y=v[g].class||"";w.className="slider-rangeHighlight slider-selection "+y,this.rangeHighlightElements.push(w),f.appendChild(w)}var _=Array.isArray(this.options.labelledby);if(_&&this.options.labelledby[0]&&d.setAttribute("aria-labelledby",this.options.labelledby[0]),_&&this.options.labelledby[1]&&c.setAttribute("aria-labelledby",this.options.labelledby[1]),!_&&this.options.labelledby&&(d.setAttribute("aria-labelledby",this.options.labelledby),c.setAttribute("aria-labelledby",this.options.labelledby)),this.ticks=[],Array.isArray(this.options.ticks)&&0<this.options.ticks.length){for(this.ticksContainer=document.createElement("div"),this.ticksContainer.className="slider-tick-container",s=0;s<this.options.ticks.length;s++){var k=document.createElement("div");if(k.className="slider-tick",this.options.ticks_tooltip){var b=this._addTickListener(),C=b.addMouseEnter(this,k,s),x=b.addMouseLeave(this,k);this.ticksCallbackMap[s]={mouseEnter:C,mouseLeave:x}}this.ticks.push(k),this.ticksContainer.appendChild(k)}r.className+=" tick-slider-selection"}if(this.tickLabels=[],Array.isArray(this.options.ticks_labels)&&0<this.options.ticks_labels.length)for(this.tickLabelContainer=document.createElement("div"),this.tickLabelContainer.className="slider-tick-label-container",s=0;s<this.options.ticks_labels.length;s++){var T=document.createElement("div"),D=0===this.options.ticks_positions.length,M=this.options.reversed&&D?this.options.ticks_labels.length-(s+1):s;T.className="slider-tick-label",T.innerHTML=this.options.ticks_labels[M],this.tickLabels.push(T),this.tickLabelContainer.appendChild(T)}function E(t){var e=document.createElement("div");e.className="tooltip-arrow";var i=document.createElement("div");i.className="tooltip-inner",t.appendChild(e),t.appendChild(i)}var S=document.createElement("div");S.className="tooltip tooltip-main",S.setAttribute("role","presentation"),E(S);var $=document.createElement("div");$.className="tooltip tooltip-min",$.setAttribute("role","presentation"),E($);var P=document.createElement("div");P.className="tooltip tooltip-max",P.setAttribute("role","presentation"),E(P),this.sliderElem.appendChild(f),this.sliderElem.appendChild(S),this.sliderElem.appendChild($),this.sliderElem.appendChild(P),this.tickLabelContainer&&this.sliderElem.appendChild(this.tickLabelContainer),this.ticksContainer&&this.sliderElem.appendChild(this.ticksContainer),this.sliderElem.appendChild(d),this.sliderElem.appendChild(c),m.insertBefore(this.sliderElem,this.element),this.element.style.display="none"}if(I&&(this.$element=I(this.element),this.$sliderElem=I(this.sliderElem)),this.eventToCallbackMap={},this.sliderElem.id=this.options.id,this.touchCapable="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this.touchX=0,this.touchY=0,this.tooltip=this.sliderElem.querySelector(".tooltip-main"),this.tooltipInner=this.tooltip.querySelector(".tooltip-inner"),this.tooltip_min=this.sliderElem.querySelector(".tooltip-min"),this.tooltipInner_min=this.tooltip_min.querySelector(".tooltip-inner"),this.tooltip_max=this.sliderElem.querySelector(".tooltip-max"),this.tooltipInner_max=this.tooltip_max.querySelector(".tooltip-inner"),V[this.options.scale]&&(this.options.scale=V[this.options.scale]),!0===u&&(this._removeClass(this.sliderElem,"slider-horizontal"),this._removeClass(this.sliderElem,"slider-vertical"),this._removeClass(this.sliderElem,"slider-rtl"),this._removeClass(this.tooltip,"hide"),this._removeClass(this.tooltip_min,"hide"),this._removeClass(this.tooltip_max,"hide"),["left","right","top","width","height"].forEach(function(t){this._removeProperty(this.trackLow,t),this._removeProperty(this.trackSelection,t),this._removeProperty(this.trackHigh,t)},this),[this.handle1,this.handle2].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"right"),this._removeProperty(t,"top")},this),[this.tooltip,this.tooltip_min,this.tooltip_max].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"right"),this._removeProperty(t,"top"),this._removeClass(t,"right"),this._removeClass(t,"left"),this._removeClass(t,"top")},this)),"vertical"===this.options.orientation?(this._addClass(this.sliderElem,"slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight"):(this._addClass(this.sliderElem,"slider-horizontal"),this.sliderElem.style.width=p,this.options.orientation="horizontal",this.options.rtl?this.stylePos="right":this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth"),this.options.rtl&&this._addClass(this.sliderElem,"slider-rtl"),this._setTooltipPosition(),Array.isArray(this.options.ticks)&&0<this.options.ticks.length&&(this.options.max=Math.max.apply(Math,this.options.ticks),this.options.min=Math.min.apply(Math,this.options.ticks)),Array.isArray(this.options.value)?(this.options.range=!0,this._state.value=this.options.value):this.options.range?this._state.value=[this.options.value,this.options.max]:this._state.value=this.options.value,this.trackLow=l||this.trackLow,this.trackSelection=r||this.trackSelection,this.trackHigh=h||this.trackHigh,"none"===this.options.selection?(this._addClass(this.trackLow,"hide"),this._addClass(this.trackSelection,"hide"),this._addClass(this.trackHigh,"hide")):"after"!==this.options.selection&&"before"!==this.options.selection||(this._removeClass(this.trackLow,"hide"),this._removeClass(this.trackSelection,"hide"),this._removeClass(this.trackHigh,"hide")),this.handle1=d||this.handle1,this.handle2=c||this.handle2,!0===u)for(this._removeClass(this.handle1,"round triangle"),this._removeClass(this.handle2,"round triangle hide"),s=0;s<this.ticks.length;s++)this._removeClass(this.ticks[s],"round triangle hide");if(-1!==["round","triangle","custom"].indexOf(this.options.handle))for(this._addClass(this.handle1,this.options.handle),this._addClass(this.handle2,this.options.handle),s=0;s<this.ticks.length;s++)this._addClass(this.ticks[s],this.options.handle);if(this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this.setValue(this._state.value),this.handle1Keydown=this._keydown.bind(this,0),this.handle1.addEventListener("keydown",this.handle1Keydown,!1),this.handle2Keydown=this._keydown.bind(this,1),this.handle2.addEventListener("keydown",this.handle2Keydown,!1),this.mousedown=this._mousedown.bind(this),this.touchstart=this._touchstart.bind(this),this.touchmove=this._touchmove.bind(this),this.touchCapable){var H=!1;try{var L=Object.defineProperty({},"passive",{get:function(){H=!0}});window.addEventListener("test",null,L)}catch(t){}var F=!!H&&{passive:!0};this.sliderElem.addEventListener("touchstart",this.touchstart,F),this.sliderElem.addEventListener("touchmove",this.touchmove,F)}if(this.sliderElem.addEventListener("mousedown",this.mousedown,!1),this.resize=this._resize.bind(this),window.addEventListener("resize",this.resize,!1),"hide"===this.options.tooltip)this._addClass(this.tooltip,"hide"),this._addClass(this.tooltip_min,"hide"),this._addClass(this.tooltip_max,"hide");else if("always"===this.options.tooltip)this._showTooltip(),this._alwaysShowTooltip=!0;else{if(this.showTooltip=this._showTooltip.bind(this),this.hideTooltip=this._hideTooltip.bind(this),this.options.ticks_tooltip){var U=this._addTickListener(),A=U.addMouseEnter(this,this.handle1),Y=U.addMouseLeave(this,this.handle1);this.handleCallbackMap.handle1={mouseEnter:A,mouseLeave:Y},A=U.addMouseEnter(this,this.handle2),Y=U.addMouseLeave(this,this.handle2),this.handleCallbackMap.handle2={mouseEnter:A,mouseLeave:Y}}else this.sliderElem.addEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.addEventListener("mouseleave",this.hideTooltip,!1);this.handle1.addEventListener("focus",this.showTooltip,!1),this.handle1.addEventListener("blur",this.hideTooltip,!1),this.handle2.addEventListener("focus",this.showTooltip,!1),this.handle2.addEventListener("blur",this.hideTooltip,!1)}this.options.enabled?this.enable():this.disable()}if((e=function(t,e){return i.call(this,t,e),this}).prototype={_init:function(){},constructor:e,defaultOptions:{id:"",min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",tooltip_split:!1,handle:"round",reversed:!1,rtl:"auto",enabled:!0,formatter:function(t){return Array.isArray(t)?t[0]+" : "+t[1]:t},natural_arrow_keys:!1,ticks:[],ticks_positions:[],ticks_labels:[],ticks_snap_bounds:0,ticks_tooltip:!1,scale:"linear",focus:!1,tooltip_position:null,labelledby:null,rangeHighlights:[]},getElement:function(){return this.sliderElem},getValue:function(){return this.options.range?this._state.value:this._state.value[0]},setValue:function(t,e,i){t=t||0;var s=this.getValue();this._state.value=this._validateInputValue(t);var a=this._applyPrecision.bind(this);this.options.range?(this._state.value[0]=a(this._state.value[0]),this._state.value[1]=a(this._state.value[1]),this._state.value[0]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[0])),this._state.value[1]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[1]))):(this._state.value=a(this._state.value),this._state.value=[Math.max(this.options.min,Math.min(this.options.max,this._state.value))],this._addClass(this.handle2,"hide"),"after"===this.options.selection?this._state.value[1]=this.options.max:this._state.value[1]=this.options.min),this.options.max>this.options.min?this._state.percentage=[this._toPercentage(this._state.value[0]),this._toPercentage(this._state.value[1]),100*this.options.step/(this.options.max-this.options.min)]:this._state.percentage=[0,0,100],this._layout();var n=this.options.range?this._state.value:this._state.value[0];return this._setDataVal(n),!0===e&&this._trigger("slide",n),s!==n&&!0===i&&this._trigger("change",{oldValue:s,newValue:n}),this},destroy:function(){this._removeSliderEventHandlers(),this.sliderElem.parentNode.removeChild(this.sliderElem),this.element.style.display="",this._cleanUpEventCallbacksMap(),this.element.removeAttribute("data"),I&&(this._unbindJQueryEventHandlers(),this.$element.removeData("slider"))},disable:function(){return this._state.enabled=!1,this.handle1.removeAttribute("tabindex"),this.handle2.removeAttribute("tabindex"),this._addClass(this.sliderElem,"slider-disabled"),this._trigger("slideDisabled"),this},enable:function(){return this._state.enabled=!0,this.handle1.setAttribute("tabindex",0),this.handle2.setAttribute("tabindex",0),this._removeClass(this.sliderElem,"slider-disabled"),this._trigger("slideEnabled"),this},toggle:function(){return this._state.enabled?this.disable():this.enable(),this},isEnabled:function(){return this._state.enabled},on:function(t,e){return this._bindNonQueryEventHandler(t,e),this},off:function(t,e){I?(this.$element.off(t,e),this.$sliderElem.off(t,e)):this._unbindNonQueryEventHandler(t,e)},getAttribute:function(t){return t?this.options[t]:this.options},setAttribute:function(t,e){return this.options[t]=e,this},refresh:function(){return this._removeSliderEventHandlers(),i.call(this,this.element,this.options),I&&I.data(this.element,"slider",this),this},relayout:function(){return this._resize(),this._layout(),this},_removeSliderEventHandlers:function(){if(this.handle1.removeEventListener("keydown",this.handle1Keydown,!1),this.handle2.removeEventListener("keydown",this.handle2Keydown,!1),this.options.ticks_tooltip){for(var t=this.ticksContainer.getElementsByClassName("slider-tick"),e=0;e<t.length;e++)t[e].removeEventListener("mouseenter",this.ticksCallbackMap[e].mouseEnter,!1),t[e].removeEventListener("mouseleave",this.ticksCallbackMap[e].mouseLeave,!1);this.handle1.removeEventListener("mouseenter",this.handleCallbackMap.handle1.mouseEnter,!1),this.handle2.removeEventListener("mouseenter",this.handleCallbackMap.handle2.mouseEnter,!1),this.handle1.removeEventListener("mouseleave",this.handleCallbackMap.handle1.mouseLeave,!1),this.handle2.removeEventListener("mouseleave",this.handleCallbackMap.handle2.mouseLeave,!1)}this.handleCallbackMap=null,this.ticksCallbackMap=null,this.showTooltip&&(this.handle1.removeEventListener("focus",this.showTooltip,!1),this.handle2.removeEventListener("focus",this.showTooltip,!1)),this.hideTooltip&&(this.handle1.removeEventListener("blur",this.hideTooltip,!1),this.handle2.removeEventListener("blur",this.hideTooltip,!1)),this.showTooltip&&this.sliderElem.removeEventListener("mouseenter",this.showTooltip,!1),this.hideTooltip&&this.sliderElem.removeEventListener("mouseleave",this.hideTooltip,!1),this.sliderElem.removeEventListener("touchstart",this.touchstart,!1),this.sliderElem.removeEventListener("touchmove",this.touchmove,!1),this.sliderElem.removeEventListener("mousedown",this.mousedown,!1),window.removeEventListener("resize",this.resize,!1)},_bindNonQueryEventHandler:function(t,e){void 0===this.eventToCallbackMap[t]&&(this.eventToCallbackMap[t]=[]),this.eventToCallbackMap[t].push(e)},_unbindNonQueryEventHandler:function(t,e){var i=this.eventToCallbackMap[t];if(void 0!==i)for(var s=0;s<i.length;s++)if(i[s]===e){i.splice(s,1);break}},_cleanUpEventCallbacksMap:function(){for(var t=Object.keys(this.eventToCallbackMap),e=0;e<t.length;e++){var i=t[e];delete this.eventToCallbackMap[i]}},_showTooltip:function(){!1===this.options.tooltip_split?(this._addClass(this.tooltip,"in"),this.tooltip_min.style.display="none",this.tooltip_max.style.display="none"):(this._addClass(this.tooltip_min,"in"),this._addClass(this.tooltip_max,"in"),this.tooltip.style.display="none"),this._state.over=!0},_hideTooltip:function(){!1===this._state.inDrag&&!0!==this.alwaysShowTooltip&&(this._removeClass(this.tooltip,"in"),this._removeClass(this.tooltip_min,"in"),this._removeClass(this.tooltip_max,"in")),this._state.over=!1},_setToolTipOnMouseOver:function(t){var e=this.options.formatter(t?t.value[0]:this._state.value[0]),i=s(t||this._state,this.options.reversed);function s(t,e){return e?[100-t.percentage[0],this.options.range?100-t.percentage[1]:t.percentage[1]]:[t.percentage[0],t.percentage[1]]}this._setText(this.tooltipInner,e),this.tooltip.style[this.stylePos]=i[0]+"%"},_addTickListener:function(){return{addMouseEnter:function(s,t,a){function e(){var t=s._state,e=0<=a?a:this.attributes["aria-valuenow"].value,i=parseInt(e,10);t.value[0]=i,t.percentage[0]=s.options.ticks_positions[i],s._setToolTipOnMouseOver(t),s._showTooltip()}return t.addEventListener("mouseenter",e,!1),e},addMouseLeave:function(t,e){function i(){t._hideTooltip()}return e.addEventListener("mouseleave",i,!1),i}}},_layout:function(){var t,e;if(t=this.options.reversed?[100-this._state.percentage[0],this.options.range?100-this._state.percentage[1]:this._state.percentage[1]]:[this._state.percentage[0],this._state.percentage[1]],this.handle1.style[this.stylePos]=t[0]+"%",this.handle1.setAttribute("aria-valuenow",this._state.value[0]),isNaN(this.options.formatter(this._state.value[0]))&&this.handle1.setAttribute("aria-valuetext",this.options.formatter(this._state.value[0])),this.handle2.style[this.stylePos]=t[1]+"%",this.handle2.setAttribute("aria-valuenow",this._state.value[1]),isNaN(this.options.formatter(this._state.value[1]))&&this.handle2.setAttribute("aria-valuetext",this.options.formatter(this._state.value[1])),0<this.rangeHighlightElements.length&&Array.isArray(this.options.rangeHighlights)&&0<this.options.rangeHighlights.length)for(var i=0;i<this.options.rangeHighlights.length;i++){var s=this._toPercentage(this.options.rangeHighlights[i].start),a=this._toPercentage(this.options.rangeHighlights[i].end);if(this.options.reversed){var n=100-a;a=100-s,s=n}var o=this._createHighlightRange(s,a);o?"vertical"===this.options.orientation?(this.rangeHighlightElements[i].style.top=o.start+"%",this.rangeHighlightElements[i].style.height=o.size+"%"):(this.options.rtl?this.rangeHighlightElements[i].style.right=o.start+"%":this.rangeHighlightElements[i].style.left=o.start+"%",this.rangeHighlightElements[i].style.width=o.size+"%"):this.rangeHighlightElements[i].style.display="none"}if(Array.isArray(this.options.ticks)&&0<this.options.ticks.length){var r,l="vertical"===this.options.orientation?"height":"width";r="vertical"===this.options.orientation?"marginTop":this.options.rtl?"marginRight":"marginLeft";var h=this._state.size/(this.options.ticks.length-1);if(this.tickLabelContainer){var d=0;if(0===this.options.ticks_positions.length)"vertical"!==this.options.orientation&&(this.tickLabelContainer.style[r]=-h/2+"px"),d=this.tickLabelContainer.offsetHeight;else for(c=0;c<this.tickLabelContainer.childNodes.length;c++)this.tickLabelContainer.childNodes[c].offsetHeight>d&&(d=this.tickLabelContainer.childNodes[c].offsetHeight);"horizontal"===this.options.orientation&&(this.sliderElem.style.marginBottom=d+"px")}for(var c=0;c<this.options.ticks.length;c++){var p=this.options.ticks_positions[c]||this._toPercentage(this.options.ticks[c]);this.options.reversed&&(p=100-p),this.ticks[c].style[this.stylePos]=p+"%",this._removeClass(this.ticks[c],"in-selection"),this.options.range?p>=t[0]&&p<=t[1]&&this._addClass(this.ticks[c],"in-selection"):("after"===this.options.selection&&p>=t[0]||"before"===this.options.selection&&p<=t[0])&&this._addClass(this.ticks[c],"in-selection"),this.tickLabels[c]&&(this.tickLabels[c].style[l]=h+"px","vertical"!==this.options.orientation&&void 0!==this.options.ticks_positions[c]?(this.tickLabels[c].style.position="absolute",this.tickLabels[c].style[this.stylePos]=p+"%",this.tickLabels[c].style[r]=-h/2+"px"):"vertical"===this.options.orientation&&(this.options.rtl?this.tickLabels[c].style.marginRight=this.sliderElem.offsetWidth+"px":this.tickLabels[c].style.marginLeft=this.sliderElem.offsetWidth+"px",this.tickLabelContainer.style[r]=this.sliderElem.offsetWidth/2*-1+"px"))}}if(this.options.range){e=this.options.formatter(this._state.value),this._setText(this.tooltipInner,e),this.tooltip.style[this.stylePos]=(t[1]+t[0])/2+"%";var u=this.options.formatter(this._state.value[0]);this._setText(this.tooltipInner_min,u);var m=this.options.formatter(this._state.value[1]);this._setText(this.tooltipInner_max,m),this.tooltip_min.style[this.stylePos]=t[0]+"%",this.tooltip_max.style[this.stylePos]=t[1]+"%"}else e=this.options.formatter(this._state.value[0]),this._setText(this.tooltipInner,e),this.tooltip.style[this.stylePos]=t[0]+"%";if("vertical"===this.options.orientation)this.trackLow.style.top="0",this.trackLow.style.height=Math.min(t[0],t[1])+"%",this.trackSelection.style.top=Math.min(t[0],t[1])+"%",this.trackSelection.style.height=Math.abs(t[0]-t[1])+"%",this.trackHigh.style.bottom="0",this.trackHigh.style.height=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";else{"right"===this.stylePos?this.trackLow.style.right="0":this.trackLow.style.left="0",this.trackLow.style.width=Math.min(t[0],t[1])+"%","right"===this.stylePos?this.trackSelection.style.right=Math.min(t[0],t[1])+"%":this.trackSelection.style.left=Math.min(t[0],t[1])+"%",this.trackSelection.style.width=Math.abs(t[0]-t[1])+"%","right"===this.stylePos?this.trackHigh.style.left="0":this.trackHigh.style.right="0",this.trackHigh.style.width=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";var f=this.tooltip_min.getBoundingClientRect(),v=this.tooltip_max.getBoundingClientRect();"bottom"===this.options.tooltip_position?f.right>v.left?(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top="",this.tooltip_max.style.bottom="22px"):(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top=this.tooltip_min.style.top,this.tooltip_max.style.bottom=""):f.right>v.left?(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top="18px"):(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=this.tooltip_min.style.top)}},_createHighlightRange:function(t,e){return this._isHighlightRange(t,e)?e<t?{start:e,size:t-e}:{start:t,size:e-t}:null},_isHighlightRange:function(t,e){return 0<=t&&t<=100&&0<=e&&e<=100},_resize:function(){this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this._layout()},_removeProperty:function(t,e){t.style.removeProperty?t.style.removeProperty(e):t.style.removeAttribute(e)},_mousedown:function(t){if(!this._state.enabled)return!1;this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos];var e=this._getPercentage(t);if(this.options.range){var i=Math.abs(this._state.percentage[0]-e),s=Math.abs(this._state.percentage[1]-e);this._state.dragged=i<s?0:1,this._adjustPercentageForRangeSliders(e)}else this._state.dragged=0;this._state.percentage[this._state.dragged]=e,this._layout(),this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),this.mousemove&&document.removeEventListener("mousemove",this.mousemove,!1),this.mouseup&&document.removeEventListener("mouseup",this.mouseup,!1),this.mousemove=this._mousemove.bind(this),this.mouseup=this._mouseup.bind(this),this.touchCapable&&(document.addEventListener("touchmove",this.mousemove,!1),document.addEventListener("touchend",this.mouseup,!1)),document.addEventListener("mousemove",this.mousemove,!1),document.addEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!0;var a=this._calculateValue();return this._trigger("slideStart",a),this._setDataVal(a),this.setValue(a,!1,!0),t.returnValue=!1,this.options.focus&&this._triggerFocusOnHandle(this._state.dragged),!0},_touchstart:function(t){if(void 0!==t.changedTouches){var e=t.changedTouches[0];this.touchX=e.pageX,this.touchY=e.pageY}else this._mousedown(t)},_triggerFocusOnHandle:function(t){0===t&&this.handle1.focus(),1===t&&this.handle2.focus()},_keydown:function(t,e){if(!this._state.enabled)return!1;var i;switch(e.keyCode){case 37:case 40:i=-1;break;case 39:case 38:i=1}if(i){if(this.options.natural_arrow_keys){var s="vertical"===this.options.orientation&&!this.options.reversed,a="horizontal"===this.options.orientation&&this.options.reversed;(s||a)&&(i=-i)}var n=this._state.value[t]+i*this.options.step,o=n/this.options.max*100;if(this._state.keyCtrl=t,this.options.range)this._adjustPercentageForRangeSliders(o),n=[this._state.keyCtrl?this._state.value[0]:n,this._state.keyCtrl?n:this._state.value[1]];return this._trigger("slideStart",n),this._setDataVal(n),this.setValue(n,!0,!0),this._setDataVal(n),this._trigger("slideStop",n),this._layout(),this._pauseEvent(e),delete this._state.keyCtrl,!1}},_pauseEvent:function(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1},_mousemove:function(t){if(!this._state.enabled)return!1;var e=this._getPercentage(t);this._adjustPercentageForRangeSliders(e),this._state.percentage[this._state.dragged]=e,this._layout();var i=this._calculateValue(!0);return this.setValue(i,!0,!0),!1},_touchmove:function(t){if(void 0!==t.changedTouches){var e=t.changedTouches[0],i=e.pageX-this.touchX,s=e.pageY-this.touchY;this._state.inDrag||("vertical"===this.options.orientation&&i<=5&&-5<=i&&(15<=s||s<=-15)||s<=5&&-5<=s&&(15<=i||i<=-15))&&this._mousedown(t)}},_adjustPercentageForRangeSliders:function(t){if(this.options.range){var e=this._getNumDigitsAfterDecimalPlace(t);e=e?e-1:0;var i=this._applyToFixedAndParseFloat(t,e);0===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[1],e)<i?(this._state.percentage[0]=this._state.percentage[1],this._state.dragged=1):1===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[0],e)>i?(this._state.percentage[1]=this._state.percentage[0],this._state.dragged=0):0===this._state.keyCtrl&&this._state.value[1]/this.options.max*100<t?(this._state.percentage[0]=this._state.percentage[1],this._state.keyCtrl=1,this.handle2.focus()):1===this._state.keyCtrl&&this._state.value[0]/this.options.max*100>t&&(this._state.percentage[1]=this._state.percentage[0],this._state.keyCtrl=0,this.handle1.focus())}},_mouseup:function(){if(!this._state.enabled)return!1;this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),document.removeEventListener("mousemove",this.mousemove,!1),document.removeEventListener("mouseup",this.mouseup,!1),(this._state.inDrag=!1)===this._state.over&&this._hideTooltip();var t=this._calculateValue(!0);return this._layout(),this._setDataVal(t),this._trigger("slideStop",t),!1},_calculateValue:function(t){var e;if(this.options.range?(e=[this.options.min,this.options.max],0!==this._state.percentage[0]&&(e[0]=this._toValue(this._state.percentage[0]),e[0]=this._applyPrecision(e[0])),100!==this._state.percentage[1]&&(e[1]=this._toValue(this._state.percentage[1]),e[1]=this._applyPrecision(e[1]))):(e=this._toValue(this._state.percentage[0]),e=parseFloat(e),e=this._applyPrecision(e)),t){for(var i=[e,1/0],s=0;s<this.options.ticks.length;s++){var a=Math.abs(this.options.ticks[s]-e);a<=i[1]&&(i=[this.options.ticks[s],a])}if(i[1]<=this.options.ticks_snap_bounds)return i[0]}return e},_applyPrecision:function(t){var e=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(t,e)},_getNumDigitsAfterDecimalPlace:function(t){var e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0},_applyToFixedAndParseFloat:function(t,e){var i=t.toFixed(e);return parseFloat(i)},_getPercentage:function(t){!this.touchCapable||"touchstart"!==t.type&&"touchmove"!==t.type||(t=t.touches[0]);var i=0;"vertical"===this.options.orientation&&this.$sliderElem.parents().each(function(t,e){0<e.scrollTop&&(i=e.scrollTop)});var e=t[this.mousePos]+i-this._state.offset[this.stylePos];"right"===this.stylePos&&(e=-e);var s=e/this._state.size*100;return s=Math.round(s/this._state.percentage[2])*this._state.percentage[2],this.options.reversed&&(s=100-s),Math.max(0,Math.min(100,s))},_validateInputValue:function(t){if(isNaN(+t)){if(Array.isArray(t))return this._validateArray(t),t;throw new Error(s(t))}return+t},_validateArray:function(t){for(var e=0;e<t.length;e++){var i=t[e];if("number"!=typeof i)throw new Error(s(i))}},_setDataVal:function(t){this.element.setAttribute("data-value",t),this.element.setAttribute("value",t),this.element.value=t},_trigger:function(t,e){e=e||0===e?e:void 0;var i=this.eventToCallbackMap[t];if(i&&i.length)for(var s=0;s<i.length;s++){(0,i[s])(e)}I&&this._triggerJQueryEvent(t,e)},_triggerJQueryEvent:function(t,e){var i={type:t,value:e};this.$element.trigger(i),this.$sliderElem.trigger(i)},_unbindJQueryEventHandlers:function(){this.$element.off(),this.$sliderElem.off()},_setText:function(t,e){void 0!==t.textContent?t.textContent=e:void 0!==t.innerText&&(t.innerText=e)},_removeClass:function(t,e){for(var i=e.split(" "),s=t.className,a=0;a<i.length;a++){var n=i[a],o=new RegExp("(?:\\s|^)"+n+"(?:\\s|$)");s=s.replace(o," ")}t.className=s.trim()},_addClass:function(t,e){for(var i=e.split(" "),s=t.className,a=0;a<i.length;a++){var n=i[a];new RegExp("(?:\\s|^)"+n+"(?:\\s|$)").test(s)||(s+=" "+n)}t.className=s.trim()},_offsetLeft:function(t){return t.getBoundingClientRect().left},_offsetRight:function(t){return t.getBoundingClientRect().right},_offsetTop:function(t){for(var e=t.offsetTop;(t=t.offsetParent)&&!isNaN(t.offsetTop);)e+=t.offsetTop,"BODY"!==t.tagName&&(e-=t.scrollTop);return e},_offset:function(t){return{left:this._offsetLeft(t),right:this._offsetRight(t),top:this._offsetTop(t)}},_css:function(t,e,i){if(I)I.style(t,e,i);else{var s=e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()});t.style[s]=i}},_toValue:function(t){return this.options.scale.toValue.apply(this,[t])},_toPercentage:function(t){return this.options.scale.toPercentage.apply(this,[t])},_setTooltipPosition:function(){var t=[this.tooltip,this.tooltip_min,this.tooltip_max];if("vertical"===this.options.orientation){var e,i="left"===(e=this.options.tooltip_position?this.options.tooltip_position:this.options.rtl?"left":"right")?"right":"left";t.forEach(function(t){this._addClass(t,e),t.style[i]="100%"}.bind(this))}else"bottom"===this.options.tooltip_position?t.forEach(function(t){this._addClass(t,"bottom"),t.style.top="22px"}.bind(this)):t.forEach(function(t){this._addClass(t,"top"),t.style.top=-this.tooltip.outerHeight-14+"px"}.bind(this))}},I&&I.fn){var t=void 0;t=I.fn.slider?(windowIsDefined&&window.console.warn("bootstrap-slider.js - WARNING: $.fn.slider namespace is already bound. Use the $.fn.bootstrapSlider namespace instead."),a):(I.bridget("slider",e),"slider"),I.bridget(a,e),I(function(){I("input[data-provide=slider]")[t]()})}}(t),e});var DateTimeFilter=function(t,e){this.dropdownOptions=$.fn.dateTimeFilter.dropdownOptions,this.init(t,e)};DateTimeFilter.prototype={constructor:DateTimeFilter,init:function(t,e){var s=$(t);this.options=e,this.widget=s,this.presetFilters=!1,this.initDropdown(s);var i=this.selectOptions[0];this.createControls(s,i),this.attachEvents(s),s.addClass("date-time-filter"),s.append('<div class="form-row justify-content-center"><button type="button" class="btn btn-primary btn-sm" data-apply-btn disabled>Apply</button></div>'),this.presetFilters&&s.find("[data-apply-btn]").prop("disabled",!1);var a=this;s.find("select[data-option-select]").on("change",function(){var t=$(this),e=$(this).val(),i=a.dropdownOptions.find(function(t){return t.value==e});t.closest(".table-dd-menu").attr("data-filter-type",i.value),i&&(s.find(".input-group.date").each(function(){$(this).destroyDatePicker()}),a.createControls(s,i),a.initDatePicker(s,i),a.attachEvents(s))}),this.initDatePicker(s,i)},initDatePicker:function(t,e){var i={format:this.getFormat(e.type),minViewMode:e.minViewMode,viewMode:e.viewMode,endDate:this.options.disableFutureDate?(new Date).toUTCString():-1/0};t.find(".input-group.date").datetimepicker(i)},getTimeOptionsArray:function(t,e){for(var i=[],s=e=e||0;s<t+e;s++){var a=s<10?"0"+s:s;i.push(a)}return i},initDropdown:function(t){var i=this.options.filterTypes;Array.isArray(i)||(i=[i]);var e=[],s=this;if(1==i.length){if(e=[e=this.dropdownOptions.find(function(t){var e=i[0];return s.presetFilters="24"==e||"48"==e,i[0]==t.value})],this.selectOptions=e,!this.presetFilters)return}else e=this.dropdownOptions.filter(function(e){return i.find(function(t){return t==e.value})});this.selectOptions=0<e.length?e:this.dropdownOptions;t.append('<div class="form-row"><div class="form-group col-12"><select class="form-control" data-option-select></select></div></div>'),t.find("select[data-option-select]").setSelectOptions({options:this.selectOptions,selectedValue:this.selectOptions[0].value})},generateHtml:function(t,e,i){var s="",a=this.options.show12HourFormat?12:24,n=e.range?"start"==t?"From":"To":"Select";s+='<div class="form-row '+t+'-block"><div class="form-group col-12 '+("dateTime"==e.type?"date-time-picker":"")+'"><label>'+n+'</label><div class="input-group">',s+='<div class="date-block"><div class="input-group date" data-'+t+'><input type="text" class="form-control" placeholder="'+this.getFormat(e.type)+'"><div class="input-group-append"><a href="javascript:;" class="input-group-text"><i class="icon calendar"></i></a></div></div></div>',"dateTime"==e.type&&(s+='<div class="hour-block"><select class="form-control" data-'+t+'-hour></select><small class="form-text text-muted">Hour</small></div>',s+='<div class="minute-block"><select class="form-control" data-'+t+'-minute></select><small class="form-text text-muted">Minute</small></div>',12==a&&(s+='<div class="time-format-block"><select class="form-control" data-'+t+"-time-format><option>AM</option><option>PM</option></select></div>")),s+="</div></div></div>",i.append(s),i.closest(".date-time-container").data("option",e);var o=this.options.show12HourFormat?12:24,r=12==o?1:0;i.find(".form-row select[data-"+t+"-hour]").setSelectOptions({options:this.getTimeOptionsArray(o,r),selectedValue:this.options.show12HourFormat?"12":"00"}),i.find(".form-row select[data-"+t+"-minute]").setSelectOptions({options:this.getTimeOptionsArray(60)}),i.find("[data-"+t+"-time-format]").selectpick()},createControls:function(t,e){var i=t.find(".date-time-container");0==i.length&&t.append('<div class="date-time-container"/>'),(i=t.find(".date-time-container")).empty(),this.generateHiddenFields(i);var s=!1;if(e.noPicker){var a=e.value,n=new Date,o=n.getDate(),r=a/24,l=new Date((new Date).setDate(o-r));i.find("[data-start-value]").val(l),i.find("[data-end-value]").val(n)}else this.generateHtml("start",e,i),e.range&&this.generateHtml("end",e,i),s=!0;i.closest(".date-time-filter").find("[data-apply-btn]").prop("disabled",s)},generateHiddenFields:function(t){t.append('<input type="hidden" data-start-value/>'),t.append('<input type="hidden" data-end-value/>')},attachEvents:function(t){var e=this;t.find(".input-group.date").on("changeDate",function(t){e.storeValue(t),e.validateFields(t)}),t.find(".date-time-container select").on("change",function(t){e.storeValue(t),e.validateFields(t)})},validateFields:function(t){var e=$(t.target),i=e.closest(".date-time-container"),s=i.data("option"),a=i.find("[data-start-value]").val(),n=a?new Date(a):"",o=i.find("[data-end-value]").val(),r=o?new Date(o):"",l=!0;if(s.range?n&&r?l=r.getTime()<n.getTime():(n||r)&&(l=!1):n&&(l=!1),e.data().hasOwnProperty("start")){var h=e.closest(".date-time-container").find("[data-end]");if(0<h.length){var d=new Date(n);d.setDate(d.getDate()+1),h.data("datetimepicker").setStartDate(d)}}else if(e.data().hasOwnProperty("end")){var c=e.closest(".date-time-container").find("[data-start]");0<c.length&&!n&&c.data("datetimepicker").setEndDate(r)}i.closest(".date-time-filter").find("[data-apply-btn]").prop("disabled",l)},getFormat:function(t){var e=this.options.dateFormat;return"month"==t?e=this.options.monthYearFormat:"year"==t&&(e=this.options.yearFormat),e},storeValue:function(t){var e,i,s,a,n,o,r,l,h,d,c,p=$(t.target),u=p.closest(".form-row").hasClass("start-block")?"start":"end",m=p.closest("."+u+"-block"),f=m.closest(".date-time-container"),v=f.data("option");v.range?("month"==v.type||"year"==v.type?(r=(e=t.date).getFullYear(),"year"==v.type?e="start"==u?new Date(e).setFullYear(r,0,1):new Date(e).setFullYear(r,11,31):"month"==v.type&&(l=new Date(e).getMonth(),h=new Date(r,l+1,0).getDate(),e="start"==u?new Date(e).setDate(1):new Date(e).setDate(h)),e="start"==u?new Date(e).setHours(0,0,0,0):new Date(e).setHours(23,59,59,0),e=new Date(e)):"date"==v.type?(d=this.options.dateFormat,e=(e=m.find("[data-"+u+"] input").val())&&moment(e.trim(),[d])._d,e="start"==u?new Date(e).setHours(0,0,0,0):new Date(e).setHours(23,59,59,0),e=new Date(e)):(d=this.options.dateFormat,e=m.find("[data-"+u+"] input").val(),i=m.find("[data-"+u+"-hour]").val(),s=m.find("[data-"+u+"-minute]").val(),a=m.find("[data-"+u+"-time-format]").val(),e&&(c=e,i&&(c+=" "+i+":"+s+" "+a),e=moment(c.trim(),[d+" HH:mm",d+" hh:mm A"])._d)),f.find("[data-"+u+"-value]").val(e)):"month"==v.type||"year"==v.type?(r=(e=t.date).getFullYear(),"year"==v.type?(n=new Date(e).setFullYear(r,0,1),n=new Date(n).setHours(0,0,0,0),o=new Date(e).setFullYear(r,11,31),o=new Date(o).setHours(23,59,59,0)):"month"==v.type&&(l=new Date(e).getMonth(),h=new Date(r,l+1,0).getDate(),n=new Date(e).setDate(1),n=new Date(n).setHours(0,0,0,0),o=new Date(e).setDate(h),o=new Date(o).setHours(23,59,59,0)),f.find("[data-start-value]").val(new Date(n)),f.find("[data-end-value]").val(new Date(o))):"date"==v.type?(d=this.options.dateFormat,e=(e=m.find("[data-"+u+"] input").val())&&moment(e.trim(),[d])._d,n=new Date(e).setHours(0,0,0,0),o=new Date(e).setHours(23,59,59,0),f.find("[data-start-value]").val(new Date(n)),f.find("[data-end-value]").val(new Date(o))):"dateTime"==v.type&&(d=this.options.dateFormat,e=m.find("[data-"+u+"] input").val(),i=m.find("[data-"+u+"-hour]").val(),s=m.find("[data-"+u+"-minute]").val(),a=m.find("[data-"+u+"-time-format]").val(),e&&(c=e,i&&(c+=" "+i+":"+s+" "+a),e=moment(c.trim(),[d+" HH:mm",d+" hh:mm A"])._d,f.find("[data-start-value]").val(e),f.find("[data-end-value]").val(e)))},getValues:function(){var t=this.widget.find("[data-start-value]").val(),e=this.widget.find("[data-end-value]").val();return{start:t?new Date(t):"",end:e?new Date(e):""}},clearValues:function(){this.widget.find("[data-start-value]").val(""),this.widget.find("[data-end-value]").val("")}},$.fn.dateTimeFilter=function(t){var e=$.extend({},{show12HourFormat:!1,monthYearFormat:"MM/YYYY",dateFormat:"MM/DD/YYYY",yearFormat:"YYYY",disableFutureDate:!0,filterTypes:[]},t);return this.each(function(){$(this).data("dateTimeFilter",new DateTimeFilter(this,e))})},$.fn.dateTimeFilter.Constructor=DateTimeFilter,$.fn.dateTimeFilter.dropdownOptions=[{text:"Date Range",value:"date-range",type:"date",range:!0,time:!1},{text:"Date and Time Range",value:"date-time-range",type:"dateTime",range:!0},{text:"Month and Year Range",value:"month-year-range",type:"month",range:!0,viewMode:1,minViewMode:1},{text:"Year Range",value:"year-range",range:!0,type:"year",viewMode:2,minViewMode:2},{text:"Specific Date",value:"date",type:"date",time:!1},{text:"Specific Date and Time",value:"date-time",type:"dateTime"},{text:"Specific Month and Year",value:"month-year",type:"month",noDateTime:!0,viewMode:1,minViewMode:1},{text:"Specific Year",value:"year",noDateTime:!0,type:"year",viewMode:2,minViewMode:2},{text:"Last 24 hours",value:"24",noPicker:!0},{text:"Last 48 hours",value:"48",noPicker:!0}],$(document).on("change",".input-group select.date-control",function(){var t=$(this),e=t.val(),i=t.closest(".input-group.date"),s=0;"month+year"==e?s=1:"year"==e&&(s=2),i.destroyDatePicker(),i.datetimepicker({format:t.find("option:selected").attr("data-format"),viewMode:s,minViewMode:s})}),$.fn.pagination=function(){return this.each(function(){var o=$(this),r=o.find("select.form-control"),l=parseInt(r.attr("data-pages"),10)||1,t=parseInt(r.attr("data-current-page"),10)||1,e=[];l<t?t=l:t<1&&(t=1);for(var i=1;i<=l;i++)e.push(""+i);r.setSelectOptions({options:e,selectedValue:""+t}),d.call(null,o),r.off("change").on("change",function(){d.call(null,o)}),o.find(".page-link").off("click").on("click",function(){var t=$(this).closest(".page-item"),e=t.hasClass("first"),i=t.hasClass("last"),s=t.hasClass("previous"),a=t.hasClass("next"),n=parseInt(r.val(),10);t.hasClass("disabled")||(e?h(r,1):i?h(r,l):a?h(r,n+1):s&&h(r,n-1),d.call(null,o))})});function h(t,e){t.setSelectValue(e),function(t,e){var i;if("function"==typeof Event){if(t&&e){var s={view:window,bubbles:!0,cancelable:!0};i=new CustomEvent(t,s)}}else(i=document.createEvent("Event")).initEvent(t,!0,!0);e.each(function(){this.dispatchEvent(i)})}("change",t)}function d(t){var e=t.find("select.form-control"),i=parseInt(e.attr("data-pages"),10)||1,s=parseInt(e.val(),10);1===s?(t.find(".first, .previous").addClass("disabled"),t.find(".next, .last").removeClass("disabled")):s===i?(t.find(".first, .previous").removeClass("disabled"),t.find(".next, .last").addClass("disabled")):t.find(".first, .last, .next, .previous").removeClass("disabled"),1===i&&t.find(".first, .last, .next, .previous").addClass("disabled")}};